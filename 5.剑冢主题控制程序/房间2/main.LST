C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: D:\Program Files\Keil\C51\BIN\C51.EXE main.c LARGE BROWSE DEBUG OBJECTEXTEND

line level    source

   1          
   2          #include "STC12C5A60S2.h"
   3          #include "intrins.h" 
   4          #include "stdio.h"
   5          #include"uart.h"
   6          
   7          #define uchar unsigned char
   8          #define uint unsigned int
   9          
  10          sbit OUT1   =  P4^2;            //输出IO口1，    脚踩灯带1・
  11          sbit OUT2   =  P1^0;        //输出2，        脚踩灯带2
  12          sbit OUT3   =  P1^1;            //输出3，        脚踩灯带3・
  13          sbit OUT4   =  P1^2;        //输出4，        脚踩灯带4・
  14          sbit OUT5   =  P1^3;        //输出5，        脚踩灯带5・
  15          sbit OUT6   =  P1^4;            //输出6，        脚踩灯带6・
  16          sbit OUT7   =  P1^5;            //输出7，        脚踩灯带7・
  17          sbit OUT8   =  P1^6;            //输出8，        脚踩灯带8・
  18          sbit OUT9   =  P1^7;            //输出9，        脚踩灯带9・
  19          
  20          sbit OUT10  =  P4^3;            //输出10，       八卦下的两个电缸
  21          
  22          sbit M10     =  P3^2;            //电缸1+                灯箱片1
  23          sbit M11     =  P3^3;            //电缸1-                灯箱片2
  24          sbit M20     =  P3^4;            //电缸2+                灯箱片3
  25          sbit M21     =  P3^5;            //电缸2-                灯箱片4
  26          sbit M30     =  P3^6;            //电缸3+                灯箱片5
  27          sbit M31     =  P3^7;            //电缸3-                灯箱片6
  28          
  29          sbit OUT21   =  P4^0;           //输出IO控制口21        灯箱片7
  30          sbit OUT22   =  P2^0;       //输出22                    灯箱片8
  31          sbit OUT23   =  P2^1;           //输出23                        天地人灯箱片
  32          
  33          sbit OUT24   =  P2^2;       //输出24                      四圣兽 四个干簧管串联
  34          
  35          sbit OUT25   =  P2^3;       //输出25                      八卦按键8
  36          
  37          sbit OUT26   =  P2^4;           //输出26                          脚踩按键9
  38          sbit OUT27   =  P2^5;           //输出27                          脚踩按键8
  39          sbit OUT28   =  P2^6;           //输出26                          脚踩按键7
  40          sbit OUT29   =  P2^7;           //输出27                          脚踩按键6
  41          
  42          
  43          sbit INPUT16   =  P4^4;         //输入IO控制口16，         八卦按键1
  44          sbit INPUT15   =  P4^5;     //输入15，                 八卦按键2
  45          sbit INPUT14   =  P4^1;         //输入14                                   八卦按键3    
  46          sbit INPUT13   =  P4^6;     //输入13                               八卦按键4    
  47          sbit INPUT12   =  P0^7;     //输入12                               八卦按键5
  48          sbit INPUT11   =  P0^6;         //输入11，按键类型                 八卦按键6
  49          sbit INPUT10   =  P0^5;         //输入10，门禁类型                 八卦按键7
  50          
  51          
  52          sbit INPUT9    =  P0^4;         //输入9，门禁                      脚踩按键1
  53          sbit INPUT8    =  P0^3;         //输入8，门禁                      脚踩按键2
  54          sbit INPUT7    =  P0^2;         //输入7，门禁                      脚踩按键3
  55          sbit INPUT6    =  P0^1;         //输入6，门禁                      脚踩按键4
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 2   

  56          sbit INPUT5    =  P0^0;     //输入5，门禁类型              脚踩按键5
  57          
  58          sbit RXD   =  P3^0;         
  59          sbit TXD   =  P3^1;
  60          
  61          #define uchar unsigned char
  62          #define uint unsigned int
  63          
  64          sfr P4sw=0xbb;
  65          
  66          void sys_init(void);
  67          void delay_ms(int count);
  68          void mp3_init();
  69          void mp3(unsigned char comd);
  70          void key_scan(void);
  71          void key_scan2(void);
  72          
  73          unsigned char i=0,count1=0,count2=0;
  74          unsigned char flag_step1=0,flag_step2=1,flag_step3=1,flag_step4=1,flag_step5=1,flag_step6=1,flag_step7=1,f
             -lag_step8=1,flag_step9=1,flag_step10=1;
  75          char code1[18]={7,8,1,5,3,2,9,4,6,9,8,1,4,6,2,3,5,7};
  76          char num[18]={0};
  77          char num1[8]={0};
  78          
  79          char code2[8]={0,0,0,0,0,0,1,5};
  80          char code3[8]={0,0,0,0,0,0,3,2};
  81          char code4[8]={0,0,0,0,0,4,6,1};
  82          char code5[8]={0,0,0,0,0,6,8,7};
  83          char code6[8]={0,0,0,0,8,2,6,3};
  84          char code7[8]={1,2,3,4,5,6,7,8};
  85          
  86          
  87          /************************************************************************
  88              函数名称：   void main(void)                
  89              函数功能：   
  90              调用函数：  void delay(unsigned int loop_time)      
  91          *************************************************************************/
  92          void main()
  93          {
  94   1              sys_init();             
  95   1      
  96   1      
  97   1              while(1)
  98   1                {                                     
  99   2                               if((OUT24==0)&&(flag_step1==0))                        // 四圣兽放置在指定位置
 100   2                               {
 101   3                                 delay_ms(50);
 102   3                                 if(OUT24==0)
 103   3                                 {
 104   4      
 105   4                                         mp3(0x33);     //音效1
 106   4                                         mp3(0x01); 
 107   4                                         flag_step1=1;
 108   4                                         for(i=0;i<100;i++)
 109   4                                         {
 110   5                                               delay_ms(350);
 111   5                                         }
 112   4                                         mp3(0x33);     //音效2       木桩步法1
 113   4                                         mp3(0x02); 
 114   4                                         OUT1=1;
 115   4                                         
 116   4                                         while(INPUT9);
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 3   

 117   4                                         while(!INPUT9);
 118   4                                         mp3(0x33);     //音效10      踩木桩音效
 119   4                                         mp3(0x0A);  
 120   4                                         OUT1=0;
 121   4                                         OUT2=1;
 122   4                                         delay_ms(2000);
 123   4                                         mp3(0x33);     //音效3       木桩步法2
 124   4                                         mp3(0x03);
 125   4                                         
 126   4                                         while(INPUT8);
 127   4                                         while(!INPUT8);
 128   4                                         mp3(0x33);     //音效10      踩木桩音效
 129   4                                         mp3(0x0A); 
 130   4                                         OUT2=0;
 131   4                                         OUT3=1;
 132   4                                         delay_ms(2000);
 133   4                                         mp3(0x33);     //音效4       木桩步法3
 134   4                                         mp3(0x04);
 135   4                                         
 136   4                                         while(INPUT7);
 137   4                                         while(!INPUT7);
 138   4                                         mp3(0x33);     //音效10      踩木桩音效
 139   4                                         mp3(0x0A);  
 140   4                                         OUT3=0;
 141   4                                         OUT4=1;
 142   4                                         delay_ms(2000);
 143   4                                         mp3(0x33);     //音效5       木桩步法4
 144   4                                         mp3(0x05);
 145   4                                         
 146   4                                         while(INPUT6);
 147   4                                         while(!INPUT6);
 148   4                                         mp3(0x33);     //音效10      踩木桩音效
 149   4                                         mp3(0x0A); 
 150   4                                         OUT4=0;
 151   4                                         OUT5=1;
 152   4                                         delay_ms(2000);         
 153   4                                         mp3(0x33);     //音效6       木桩步法5
 154   4                                         mp3(0x06);
 155   4                                         
 156   4                                         while(INPUT5);
 157   4                                         while(!INPUT5);
 158   4                                         mp3(0x33);     //音效10      踩木桩音效
 159   4                                         mp3(0x0A); 
 160   4                         OUT5=0;
 161   4                                         OUT6=1; 
 162   4                                         delay_ms(2000);
 163   4                                         mp3(0x33);     //音效7       木桩步法6
 164   4                                         mp3(0x07);
 165   4                                         
 166   4                                         while(OUT29);
 167   4                                         while(!OUT29);
 168   4                                         mp3(0x33);     //音效10      踩木桩音效
 169   4                                         mp3(0x0A); 
 170   4                                         OUT6=0;
 171   4                                         OUT7=1;
 172   4                                         delay_ms(2000);
 173   4                                         mp3(0x33);     //音效8       木桩步法7
 174   4                                         mp3(0x08);
 175   4                                         
 176   4                                         while(OUT28);
 177   4                                         while(!OUT28);
 178   4                                         mp3(0x33);     //音效10      踩木桩音效
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 4   

 179   4                                         mp3(0x0A); 
 180   4                                         OUT7=0;
 181   4                                         OUT8=1;
 182   4                                         OUT9=1;
 183   4                                         delay_ms(2000);
 184   4                                          
 185   4                                         mp3(0x33);     //音效9       木桩步法8
 186   4                                         mp3(0x09);
 187   4                                         
 188   4                                         while((OUT27!=0)||(OUT26!=0));
 189   4                                         mp3(0x33);     //音效10      踩木桩音效
 190   4                                         mp3(0x0A); 
 191   4                                         OUT8=0;
 192   4                                         OUT9=0;
 193   4                                         delay_ms(2000);
 194   4                                         mp3(0x33);     //音效11      任务完成提示音
 195   4                                         mp3(0x0B);     //
 196   4                                          delay_ms(5000);
 197   4                                         mp3(0x33);     //音效12      
 198   4                                         mp3(0x0C);     //开启记忆
 199   4                                         delay_ms(5000);
 200   4                                         OUT7=1;
 201   4                                         delay_ms(2000);
 202   4                                         OUT7=0;
 203   4                                         OUT8=1;
 204   4                                         delay_ms(1000);
 205   4                                         OUT8=0;
 206   4                                         OUT1=1;
 207   4                                         delay_ms(800);
 208   4                                         OUT1=0;
 209   4                                         OUT5=1;
 210   4                                         delay_ms(500);
 211   4                                         OUT5=0;
 212   4                                         OUT3=1;
 213   4                                         delay_ms(500);
 214   4                                         OUT3=0;
 215   4                                         OUT2=1;
 216   4                                         delay_ms(800);
 217   4                                         OUT2=0;
 218   4                                         OUT9=1;
 219   4                                         delay_ms(1000);
 220   4                                         OUT9=0;
 221   4                                         OUT4=1;
 222   4                                         delay_ms(1000);
 223   4                                         OUT4=0;
 224   4                                         OUT6=1;
 225   4                                         delay_ms(2000);
 226   4                                         OUT6=0;
 227   4                                         OUT9=1;
 228   4                                         delay_ms(200);
 229   4                                         OUT9=0;
 230   4                                         OUT8=1;
 231   4                                         delay_ms(200);
 232   4                                         OUT8=0;
 233   4                                         OUT1=1;
 234   4                                         delay_ms(200);
 235   4                                         OUT1=0;
 236   4                                         OUT4=1;
 237   4                                         delay_ms(200);
 238   4                                         OUT4=0;
 239   4                                         OUT6=1;
 240   4                                         delay_ms(200);
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 5   

 241   4                                         OUT6=0;
 242   4                                         OUT2=1;
 243   4                                         delay_ms(200);
 244   4                                         OUT2=0;
 245   4                                         OUT3=1;
 246   4                                         delay_ms(500);
 247   4                                         OUT3=0;
 248   4                                         OUT5=1;
 249   4                                         delay_ms(1000);
 250   4                                         OUT5=0;
 251   4                                         OUT7=1;
 252   4                                         delay_ms(3000);
 253   4                                         OUT7=0;
 254   4                                                 
 255   4                                         while(flag_step2==1)
 256   4                                         {
 257   5                                                key_scan();
 258   5                                                if(count1==18)
 259   5                                                {
 260   6                                                      if((code1[0]==num[0])&&(code1[1]==num[1])&&(code1[2]==num[2])&&(code1[3]==num[3])&&(code1[4]==num[
             -4])&&(code1[5]==num[5])&&(code1[6]==num[6])&&(code1[7]==num[7])&&(code1[8]==num[8])&&(code1[9]==num[9])&&(code1[10]==num
             -[10])&&(code1[11]==num[11])&&(code1[12]==num[12])&&(code1[13]==num[13])&&(code1[14]==num[14])&&(code1[15]==num[15])&&(co
             -de1[16]==num[16])&&(code1[17]==num[17]))//输入顺序吻合
 261   6                                                      {
 262   7                                                              flag_step2=0;
 263   7                                                              num[0]=0;
 264   7                                                              num[1]=0;
 265   7                                                              num[2]=0;
 266   7                                                              num[3]=0;
 267   7                                                              num[4]=0;
 268   7                                                              num[5]=0;
 269   7                                                              num[6]=0;
 270   7                                                              num[7]=0;
 271   7                                                              num[8]=0;
 272   7                                                              num[9]=0;
 273   7                                                              num[10]=0;
 274   7                                                              num[11]=0;
 275   7                                                              num[12]=0;
 276   7                                                              num[13]=0;
 277   7                                                              num[14]=0;
 278   7                                                              num[15]=0;
 279   7                                                              num[16]=0;
 280   7                                                              num[17]=0;
 281   7                                                              delay_ms(500);
 282   7                                                               mp3(0x33);       //音效15      步法正确,剑法第一式     1，5(7)   
 283   7                                                   mp3(0x0F);           //
 284   7                                                              delay_ms(500);
 285   7                                                               OUT23=1;
 286   7                                                               OUT1=1;
 287   7                                                               OUT2=1;
 288   7                                                               OUT3=1;
 289   7                                                               OUT4=1;
 290   7                                                               OUT5=1;
 291   7                                                               OUT6=1;
 292   7                                                               OUT7=1;
 293   7                                                               OUT8=1;
 294   7                                                               OUT9=1;
 295   7                                                               delay_ms(8000);
 296   7                                                      }
 297   6                                                      else
 298   6                                                      {
 299   7                                                              OUT1=0;
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 6   

 300   7                                                               OUT2=0;
 301   7                                                               OUT3=0;
 302   7                                                               OUT4=0;
 303   7                                                               OUT5=0;
 304   7                                                               OUT6=0;
 305   7                                                               OUT7=0;
 306   7                                                               OUT8=0;
 307   7                                                               OUT9=0;
 308   7                                                          num[0]=0;
 309   7                                                              num[1]=0;
 310   7                                                              num[2]=0;
 311   7                                                              num[3]=0;
 312   7                                                              num[4]=0;
 313   7                                                              num[5]=0;
 314   7                                                              num[6]=0;
 315   7                                                              num[7]=0;
 316   7                                                              num[8]=0;
 317   7                                                              num[9]=0;
 318   7                                                              num[10]=0;
 319   7                                                              num[11]=0;
 320   7                                                              num[12]=0;
 321   7                                                              num[13]=0;
 322   7                                                              num[14]=0;
 323   7                                                              num[15]=0;
 324   7                                                              num[16]=0;
 325   7                                                              num[17]=0;
 326   7                                                              delay_ms(500);
 327   7                                                               mp3(0x33);       //音效14      步法错误 重新演示一遍
 328   7                                                   mp3(0x0E);           //
 329   7                                                                delay_ms(5000);
 330   7                                                                         OUT7=1;
 331   7                                                                         delay_ms(2000);
 332   7                                                                         OUT7=0;
 333   7                                                                         OUT8=1;
 334   7                                                                         delay_ms(1000);
 335   7                                                                         OUT8=0;
 336   7                                                                         OUT1=1;
 337   7                                                                         delay_ms(800);
 338   7                                                                         OUT1=0;
 339   7                                                                         OUT5=1;
 340   7                                                                         delay_ms(500);
 341   7                                                                         OUT5=0;
 342   7                                                                         OUT3=1;
 343   7                                                                         delay_ms(500);
 344   7                                                                         OUT3=0;
 345   7                                                                         OUT2=1;
 346   7                                                                         delay_ms(800);
 347   7                                                                         OUT2=0;
 348   7                                                                         OUT9=1;
 349   7                                                                         delay_ms(1000);
 350   7                                                                         OUT9=0;
 351   7                                                                         OUT4=1;
 352   7                                                                         delay_ms(1000);
 353   7                                                                         OUT4=0;
 354   7                                                                         OUT6=1;
 355   7                                                                         delay_ms(2000);
 356   7                                                                         OUT6=0;
 357   7                                                                         OUT9=1;
 358   7                                                                         delay_ms(200);
 359   7                                                                         OUT9=0;
 360   7                                                                         OUT8=1;
 361   7                                                                         delay_ms(200);
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 7   

 362   7                                                                         OUT8=0;
 363   7                                                                         OUT1=1;
 364   7                                                                         delay_ms(200);
 365   7                                                                         OUT1=0;
 366   7                                                                         OUT4=1;
 367   7                                                                         delay_ms(200);
 368   7                                                                         OUT4=0;
 369   7                                                                         OUT6=1;
 370   7                                                                         delay_ms(200);
 371   7                                                                         OUT6=0;
 372   7                                                                         OUT2=1;
 373   7                                                                         delay_ms(200);
 374   7                                                                         OUT2=0;
 375   7                                                                         OUT3=1;
 376   7                                                                         delay_ms(500);
 377   7                                                                         OUT3=0;
 378   7                                                                         OUT5=1;
 379   7                                                                         delay_ms(1000);
 380   7                                                                         OUT5=0;
 381   7                                                                         OUT7=1;
 382   7                                                                         delay_ms(3000);
 383   7                                                                         OUT7=0;
 384   7                                                                 
 385   7                                                                 count1=0;
 386   7                                                      }
 387   6                                                  }     
 388   5                                          }
 389   4                                        while(flag_step3==1)                    //八卦按键开始 
 390   4                                        {
 391   5                                                key_scan2();
 392   5                                                if(count2==2)
 393   5                                                {
 394   6                                                      if((code2[0]==num1[0])&&(code2[1]==num1[1])&&(code2[2]==num1[2])&&(code2[3]==num1[3])&&(code2[4]==
             -num1[4])&&(code2[5]==num1[5])&&(code2[6]==num1[6])&&(code2[7]==num1[7]))//输入顺序吻合
 395   6                                                      {
 396   7                                                              count2=0;
 397   7                                                              delay_ms(1000);
 398   7                                                              flag_step3=0;
 399   7                                                              num1[0]=0;
 400   7                                                              num1[1]=0;
 401   7                                                              num1[2]=0;
 402   7                                                              num1[3]=0;
 403   7                                                              num1[4]=0;
 404   7                                                              num1[5]=0;
 405   7                                                              num1[6]=0;
 406   7                                                              num1[7]=0;
 407   7                                                              delay_ms(500);
 408   7                                                              mp3(0x33);        //音效17      第一式正确，剑法第二式起 3，2(5)
 409   7                                                  mp3(0x11);    //
 410   7                                                              delay_ms(500); 
 411   7                                                      }
 412   6                                                      else
 413   6                                                      {
 414   7                                                              delay_ms(1000);
 415   7                                                              num1[0]=0;
 416   7                                                              num1[1]=0;
 417   7                                                              num1[2]=0;
 418   7                                                              num1[3]=0;
 419   7                                                              num1[4]=0;
 420   7                                                              num1[5]=0;
 421   7                                                              num1[6]=0;
 422   7                                                              num1[7]=0;
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 8   

 423   7      
 424   7                                                                      M10=0;          //
 425   7                                                                      M11=0;
 426   7                                                                      M20=0;          //
 427   7                                                                      M21=0;
 428   7                                                                      M30=0;
 429   7                                                                      M31=0;
 430   7                                                                      OUT21=0;
 431   7                                                                      OUT22=0;
 432   7                                                                      delay_ms(500);
 433   7                                                               mp3(0x33);       //音效16，剑法第一式错误      
 434   7                                                   mp3(0x10);           //
 435   7                                                               delay_ms(500);
 436   7                                                                 count2=0;
 437   7                                                      }
 438   6                                                  }   
 439   5                                        
 440   5                                        }
 441   4      
 442   4                                        while(flag_step4==1)
 443   4                                        {
 444   5                                               key_scan2();
 445   5                                                if(count2==2)
 446   5                                                {
 447   6                                                      if((code3[0]==num1[0])&&(code3[1]==num1[1])&&(code3[2]==num1[2])&&(code3[3]==num1[3])&&(code3[4]==
             -num1[4])&&(code3[5]==num1[5])&&(code3[6]==num1[6])&&(code3[7]==num1[7]))//输入顺序吻合
 448   6                                                      {
 449   7                                                              count2=0;
 450   7                                                              delay_ms(1000);
 451   7                                                              flag_step4=0;
 452   7                                                              num1[0]=0;
 453   7                                                              num1[1]=0;
 454   7                                                              num1[2]=0;
 455   7                                                              num1[3]=0;
 456   7                                                              num1[4]=0;
 457   7                                                              num1[5]=0;
 458   7                                                              num1[6]=0;
 459   7                                                              num1[7]=0;
 460   7                                                              delay_ms(500);
 461   7                                                               mp3(0x33);       //音效19      剑法第三式起
 462   7                                                   mp3(0x13);           //                            
 463   7                                                               delay_ms(500); 
 464   7                                                              
 465   7      
 466   7                                                      }
 467   6                                                      else
 468   6                                                      {
 469   7                                                              delay_ms(1000);
 470   7                                                              num1[0]=0;
 471   7                                                              num1[1]=0;
 472   7                                                              num1[2]=0;
 473   7                                                              num1[3]=0;
 474   7                                                              num1[4]=0;
 475   7                                                              num1[5]=0;
 476   7                                                              num1[6]=0;
 477   7                                                              num1[7]=0;
 478   7      
 479   7                                                                      M10=0;          //
 480   7                                                                      M11=0;
 481   7                                                                      M20=0;          //
 482   7                                                                      M21=0;
 483   7                                                                      M30=0;
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 9   

 484   7                                                                      M31=0;
 485   7                                                                      OUT21=0;
 486   7                                                                      OUT22=0;
 487   7                                                              delay_ms(500);
 488   7                                                               mp3(0x33);        //音效18     剑法第二式错误
 489   7                                                   mp3(0x12);    //
 490   7                                              
 491   7                                                               delay_ms(500);
 492   7                                                                 
 493   7                                                                 count2=0;
 494   7                                                      }
 495   6                                                  }   
 496   5                                        
 497   5                                        }
 498   4      
 499   4                                        while(flag_step5==1)
 500   4                                        {
 501   5                                               key_scan2();
 502   5                                                if(count2==3)
 503   5                                                {
 504   6                                                      if((code4[0]==num1[0])&&(code4[1]==num1[1])&&(code4[2]==num1[2])&&(code4[3]==num1[3])&&(code4[4]==
             -num1[4])&&(code4[5]==num1[5])&&(code4[6]==num1[6])&&(code4[7]==num1[7]))//输入顺序吻合
 505   6                                                      {
 506   7                                                              count2=0;
 507   7                                                              delay_ms(1000);
 508   7                                                              flag_step5=0;
 509   7                                                              num1[0]=0;
 510   7                                                              num1[1]=0;
 511   7                                                              num1[2]=0;
 512   7                                                              num1[3]=0;
 513   7                                                              num1[4]=0;
 514   7                                                              num1[5]=0;
 515   7                                                              num1[6]=0;
 516   7                                                              num1[7]=0;
 517   7                                                              delay_ms(500);
 518   7                                                               mp3(0x33);       //音效21      剑法第四式起  6(2)，8，7(6)
 519   7                                                   mp3(0x15);           //
 520   7                                                               delay_ms(500); 
 521   7                                                      }
 522   6                                                      else
 523   6                                                      {
 524   7                                                              delay_ms(1000);
 525   7                                                              num1[0]=0;
 526   7                                                              num1[1]=0;
 527   7                                                              num1[2]=0;
 528   7                                                              num1[3]=0;
 529   7                                                              num1[4]=0;
 530   7                                                              num1[5]=0;
 531   7                                                              num1[6]=0;
 532   7                                                              num1[7]=0;
 533   7      
 534   7                                                                      M10=0;          //
 535   7                                                                      M11=0;
 536   7                                                                      M20=0;          //
 537   7                                                                      M21=0;
 538   7                                                                      M30=0;
 539   7                                                                      M31=0;
 540   7                                                                      OUT21=0;
 541   7                                                                      OUT22=0;
 542   7                                                              delay_ms(500);
 543   7                                                               mp3(0x33);        //音效20     剑法第三式错误
 544   7                                                   mp3(0x14);    // 
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 10  

 545   7                                                                 count2=0;
 546   7                                                               delay_ms(500); 
 547   7                                                      }
 548   6                                                  }   
 549   5                                        
 550   5                                        }
 551   4      
 552   4                                        while(flag_step6==1)
 553   4                                        {
 554   5                                               key_scan2();
 555   5                                                if(count2==3)
 556   5                                                {
 557   6                                                      if((code5[0]==num1[0])&&(code5[1]==num1[1])&&(code5[2]==num1[2])&&(code5[3]==num1[3])&&(code5[4]==
             -num1[4])&&(code5[5]==num1[5])&&(code5[6]==num1[6])&&(code5[7]==num1[7]))//输入顺序吻合
 558   6                                                      {
 559   7                                                              count2=0;
 560   7                                                              delay_ms(1000);
 561   7                                                              flag_step6=0;
 562   7                                                              num1[0]=0;
 563   7                                                              num1[1]=0;
 564   7                                                              num1[2]=0;
 565   7                                                              num1[3]=0;
 566   7                                                              num1[4]=0;
 567   7                                                              num1[5]=0;
 568   7                                                              num1[6]=0;
 569   7                                                              num1[7]=0;
 570   7                                                              delay_ms(500);
 571   7                                                               mp3(0x33);       //音效23      剑法第五式起  8,2(5),6(2),3
 572   7                                                   mp3(0x17);           //
 573   7                                                               delay_ms(500);                                  
 574   7                                                      }
 575   6                                                      else
 576   6                                                      {
 577   7                                                              delay_ms(1000);
 578   7                                                              num1[0]=0;
 579   7                                                              num1[1]=0;
 580   7                                                              num1[2]=0;
 581   7                                                              num1[3]=0;
 582   7                                                              num1[4]=0;
 583   7                                                              num1[5]=0;
 584   7                                                              num1[6]=0;
 585   7                                                              num1[7]=0;
 586   7      
 587   7                                                                      M10=0;          //
 588   7                                                                      M11=0;
 589   7                                                                      M20=0;          //
 590   7                                                                      M21=0;
 591   7                                                                      M30=0;
 592   7                                                                      M31=0;
 593   7                                                                      OUT21=0;
 594   7                                                                      OUT22=0;
 595   7                                                                      delay_ms(500);
 596   7                                                               mp3(0x33);        //音效22     剑法第四式错误
 597   7                                                   mp3(0x16);    //                                   
 598   7                                                                 count2=0;
 599   7                                                               delay_ms(500); 
 600   7                                                      }
 601   6                                                  }   
 602   5                                        
 603   5                                        }
 604   4      
 605   4      
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 11  

 606   4                                        while(flag_step7==1)
 607   4                                        {
 608   5                                               key_scan2();
 609   5                                                if(count2==4)
 610   5                                                {
 611   6                                                      if((code6[0]==num1[0])&&(code6[1]==num1[1])&&(code6[2]==num1[2])&&(code6[3]==num1[3])&&(code6[4]==
             -num1[4])&&(code6[5]==num1[5])&&(code6[6]==num1[6])&&(code6[7]==num1[7]))//输入顺序吻合
 612   6                                                      {
 613   7                                                              count2=0;
 614   7                                                              delay_ms(1000);
 615   7                                                              flag_step7=0;
 616   7                                                              num1[0]=0;
 617   7                                                              num1[1]=0;
 618   7                                                              num1[2]=0;
 619   7                                                              num1[3]=0;
 620   7                                                              num1[4]=0;
 621   7                                                              num1[5]=0;
 622   7                                                              num1[6]=0;
 623   7                                                              num1[7]=0;
 624   7                                                              delay_ms(500);
 625   7                                                               mp3(0x33);       //音效25      第六式起 1,2(6),3,4,5(2),6(7),7(5),8
 626   7                                                   mp3(0x19);           //
 627   7                                                               delay_ms(500); 
 628   7                                                      }
 629   6                                                      else
 630   6                                                      {
 631   7                                                              delay_ms(1000);
 632   7                                                              num1[0]=0;
 633   7                                                              num1[1]=0;
 634   7                                                              num1[2]=0;
 635   7                                                              num1[3]=0;
 636   7                                                              num1[4]=0;
 637   7                                                              num1[5]=0;
 638   7                                                              num1[6]=0;
 639   7                                                              num1[7]=0;
 640   7      
 641   7                                                                      M10=0;          //
 642   7                                                                      M11=0;
 643   7                                                                      M20=0;          //
 644   7                                                                      M21=0;
 645   7                                                                      M30=0;
 646   7                                                                      M31=0;
 647   7                                                                      OUT21=0;
 648   7                                                                      OUT22=0;
 649   7                                                               delay_ms(500);
 650   7                                                               mp3(0x33);        //音效24     第五式错误
 651   7                                                   mp3(0x18);    //                                           
 652   7                                                                 count2=0;                                            
 653   7                                                               delay_ms(500);
 654   7                                                      }
 655   6                                                  }   
 656   5                                        
 657   5                                        }
 658   4      
 659   4                                         while(flag_step8==1)
 660   4                                        {
 661   5                                               key_scan2();
 662   5                                                if(count2==8)
 663   5                                                {
 664   6                                                      if((code7[0]==num1[0])&&(code7[1]==num1[1])&&(code7[2]==num1[2])&&(code7[3]==num1[3])&&(code7[4]==
             -num1[4])&&(code7[5]==num1[5])&&(code7[6]==num1[6])&&(code7[7]==num1[7]))//输入顺序吻合
 665   6                                                      {
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 12  

 666   7                                                              count2=0;
 667   7                                                              delay_ms(1000);
 668   7                                                              flag_step8=0;
 669   7                                                              num1[0]=0;
 670   7                                                              num1[1]=0;
 671   7                                                              num1[2]=0;
 672   7                                                              num1[3]=0;
 673   7                                                              num1[4]=0;
 674   7                                                              num1[5]=0;
 675   7                                                              num1[6]=0;
 676   7                                                              num1[7]=0;
 677   7                                                              delay_ms(500);
 678   7                                                              mp3(0x33);        //音效34      第六式正确，任务完成
 679   7                                                  mp3(0x22);    //
 680   7                                                              delay_ms(500); 
 681   7                                                                      M10=1;          //
 682   7                                                                      M11=1;
 683   7                                                                      M20=1;          //
 684   7                                                                      M21=1;
 685   7                                                                      M30=1;
 686   7                                                                      M31=1;
 687   7                                                                      OUT21=1;
 688   7                                                                      OUT22=1;
 689   7                                                         delay_ms(8000);
 690   7                                                          delay_ms(8000);
 691   7                                                               delay_ms(4000);
 692   7                                                               OUT10=1;        //电缸升起
 693   7      
 694   7                                                        while(1);
 695   7      
 696   7                                                               
 697   7                                                      }
 698   6                                                      else
 699   6                                                      {
 700   7                                                              delay_ms(1000);
 701   7                                                              num1[0]=0;
 702   7                                                              num1[1]=0;
 703   7                                                              num1[2]=0;
 704   7                                                              num1[3]=0;
 705   7                                                              num1[4]=0;
 706   7                                                              num1[5]=0;
 707   7                                                              num1[6]=0;
 708   7                                                              num1[7]=0;
 709   7      
 710   7                                                                      M10=0;          //
 711   7                                                                      M11=0;
 712   7                                                                      M20=0;          //
 713   7                                                                      M21=0;
 714   7                                                                      M30=0;
 715   7                                                                      M31=0;
 716   7                                                                      OUT21=0;
 717   7                                                                      OUT22=0;
 718   7                                                               delay_ms(500);
 719   7                                                               mp3(0x33);        //音效36     第六式错误
 720   7                                                   mp3(0x24);    //
 721   7                                                               delay_ms(600);  
 722   7                                                                 count2=0;                            
 723   7                                                      }
 724   6                                                  }   
 725   5                                        
 726   5                                        }
 727   4      
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 13  

 728   4      
 729   4      
 730   4                                 }
 731   3                               }
 732   2      
 733   2                      
 734   2      
 735   2      
 736   2                                      
 737   2                }                                                                                                       
 738   1      }
 739                                                                                                                                                                                      
 740          void sys_init()
 741          {
 742   1              P0M1=0X00;
 743   1              P0M0=0Xff;      //设置P0为推挽输出
 744   1              
 745   1              P1M1=0X00;
 746   1              P1M0=0XFF;          //设置P1为推挽输出
 747   1              
 748   1              P2M1=0X00;
 749   1              P2M0=0XFF;              //设置P2口为推挽输出
 750   1              
 751   1              P3M1=0X00;
 752   1              P3M0=0XFC;          //设置P3为推挽输出
 753   1      
 754   1              P4M1=0X00;
 755   1              P4M0=0XFF;      //设置P4为推挽输出
 756   1              
 757   1              P4sw = 0x70;    
 758   1              //
 759   1              OUT1=0;
 760   1              OUT2=0;
 761   1              OUT3=0;
 762   1              OUT4=0;
 763   1              OUT5=0;
 764   1      
 765   1              OUT6=0;         // 
 766   1              OUT7=0;         //      
 767   1              OUT8=0;         //  
 768   1              OUT9=0;         //      
 769   1              OUT10=0;        //      
 770   1              
 771   1              M10=0;          //
 772   1              M11=0;
 773   1              M20=0;          //
 774   1              M21=0;
 775   1              M30=0;
 776   1              M31=0;
 777   1              OUT21=0;
 778   1              OUT22=0;
 779   1              OUT23=0;  
 780   1      
 781   1              OUT24=1;         //四圣兽放置
 782   1              OUT25=1;
 783   1              OUT26=1;
 784   1              OUT27=1;
 785   1              OUT28=1;
 786   1              OUT29=1;
 787   1              
 788   1              INPUT16=1;  //触摸开关4个
 789   1              INPUT15=1;      //
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 14  

 790   1              INPUT14=1; 
 791   1              INPUT13=1; 
 792   1              INPUT12=1; //触摸开关 最开始的
 793   1              INPUT11=1;       
 794   1              
 795   1              INPUT10=1;
 796   1              INPUT9=1;
 797   1              INPUT8=1;
 798   1              INPUT7=1;
 799   1              INPUT6=1;
 800   1              INPUT5=1;
 801   1      
 802   1                        
 803   1              uart_init();               //串口初始化 
 804   1              mp3_init();                //MP3初始化  */
 805   1      
 806   1      }
 807          
 808          
 809          
 810          void delay_ms(int count)  // /* X1ms */
 811          {
 812   1              int i,j;
 813   1              for(i=0;i<count;i++)
 814   1                      for(j=0;j<1000;j++);
 815   1      } 
 816          
 817          
 818          
 819          /*********************************************************/
 820          /*                                                       */
 821          /* MP3操作指令                                           */
 822          /*                                                       */
 823          /*********************************************************/
 824          void mp3(unsigned char comd)
 825          {
 826   1        switch(comd)
 827   1                {
 828   2                  
 829   2                  case 0X01: send(0X7E);//指令开始位
 830   2                                         send(0X04);//说明指令长度
 831   2                                         send(0X42);//指定文件夹播放
 832   2                                         send(0X01);//定位到名称为“01”的文件夹
 833   2                                         send(0x01);//播放第1个音频文件
 834   2                                         send(0XEF);//指令结束位 
 835   2                                     break;
 836   2                      case 0X02: send(0X7E);//指令开始位
 837   2                                         send(0X04);//说明指令长度
 838   2                                         send(0X42);//指定文件夹播放
 839   2                                         send(0X01);//定位到名称为“01”的文件夹
 840   2                                         send(0x02);//播放第2个音频文件
 841   2                                         send(0XEF);//指令结束位 
 842   2                                     break;
 843   2                  case 0X03: send(0X7E);//指令开始位
 844   2                                         send(0X04);//说明指令长度
 845   2                                         send(0X42);//指定文件夹播放
 846   2                                         send(0X01);//定位到名称为“01”的文件夹
 847   2                                         send(0x03);//播放第3个音频文件
 848   2                                         send(0XEF);//指令结束位 
 849   2                                     break;
 850   2                      case 0X04: send(0X7E);//指令开始位
 851   2                                         send(0X04);//说明指令长度
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 15  

 852   2                                         send(0X42);//指定文件夹播放
 853   2                                         send(0X01);//定位到名称为“01”的文件夹
 854   2                                         send(0x04);//播放第4个音频文件
 855   2                                         send(0XEF);//指令结束位 
 856   2                                     break;
 857   2                      case 0X05: send(0X7E);//指令开始位
 858   2                                         send(0X04);//说明指令长度
 859   2                                         send(0X42);//指定文件夹播放
 860   2                                         send(0X01);//定位到名称为“01”的文件夹
 861   2                                         send(0x05);//播放第5个音频文件
 862   2                                         send(0XEF);//指令结束位 
 863   2                                     break;
 864   2                  case 0X06: send(0X7E);//指令开始位
 865   2                                         send(0X04);//说明指令长度
 866   2                                         send(0X42);//指定文件夹播放
 867   2                                         send(0X01);//定位到名称为“01”的文件夹
 868   2                                         send(0x06);//播放第6个音频文件
 869   2                                         send(0XEF);//指令结束位 
 870   2                                     break;
 871   2                      case 0X07: send(0X7E);//指令开始位
 872   2                                         send(0X04);//说明指令长度
 873   2                                         send(0X42);//指定文件夹播放
 874   2                                         send(0X01);//定位到名称为“01”的文件夹
 875   2                                         send(0x07);//播放第7个音频文件
 876   2                                         send(0XEF);//指令结束位 
 877   2                                     break;
 878   2                      case 0X08: send(0X7E);//指令开始位
 879   2                                         send(0X04);//说明指令长度
 880   2                                         send(0X42);//指定文件夹播放
 881   2                                         send(0X01);//定位到名称为“01”的文件夹
 882   2                                         send(0x08);//播放第8个音频文件
 883   2                                         send(0XEF);//指令结束位 
 884   2                                     break;
 885   2                  case 0X09: send(0X7E);//指令开始位
 886   2                                         send(0X04);//说明指令长度
 887   2                                         send(0X42);//指定文件夹播放
 888   2                                         send(0X01);//定位到名称为“01”的文件夹
 889   2                                         send(0x09);//播放第9个音频文件
 890   2                                         send(0XEF);//指令结束位 
 891   2                                     break;
 892   2                      case 0X0A: send(0X7E);//指令开始位
 893   2                                         send(0X04);//说明指令长度
 894   2                                         send(0X42);//指定文件夹播放
 895   2                                         send(0X01);//定位到名称为“01”的文件夹
 896   2                                         send(0x0A);//播放第10个音频文件
 897   2                                         send(0XEF);//指令结束位 
 898   2                                     break;
 899   2                      case 0X0B: send(0X7E);//指令开始位
 900   2                                         send(0X04);//说明指令长度
 901   2                                         send(0X42);//指定文件夹播放
 902   2                                         send(0X01);//定位到名称为“01”的文件夹
 903   2                                         send(0x0B);//播放第11个音频文件
 904   2                                         send(0XEF);//指令结束位 
 905   2                                     break;
 906   2                  case 0X0C: send(0X7E);//指令开始位
 907   2                                         send(0X04);//说明指令长度
 908   2                                         send(0X42);//指定文件夹播放
 909   2                                         send(0X01);//定位到名称为“01”的文件夹
 910   2                                         send(0x0C);//播放第12个音频文件
 911   2                                         send(0XEF);//指令结束位 
 912   2                                     break;
 913   2                      case 0X0D: send(0X7E);//指令开始位
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 16  

 914   2                                         send(0X04);//说明指令长度
 915   2                                         send(0X42);//指定文件夹播放
 916   2                                         send(0X01);//定位到名称为“01”的文件夹
 917   2                                         send(0x0D);//播放第13个音频文件
 918   2                                         send(0XEF);//指令结束位 
 919   2                                     break;
 920   2                      case 0X0E: send(0X7E);//指令开始位
 921   2                                         send(0X04);//说明指令长度
 922   2                                         send(0X42);//指定文件夹播放
 923   2                                         send(0X01);//定位到名称为“01”的文件夹
 924   2                                         send(0x0E);//播放第14个音频文件
 925   2                                         send(0XEF);//指令结束位 
 926   2                                     break;
 927   2                  case 0X0F: send(0X7E);//指令开始位
 928   2                                         send(0X04);//说明指令长度
 929   2                                         send(0X42);//指定文件夹播放
 930   2                                         send(0X01);//定位到名称为“01”的文件夹
 931   2                                         send(0x0F);//播放第15个音频文件
 932   2                                         send(0XEF);//指令结束位 
 933   2                                     break;
 934   2      
 935   2                      case 0X10: send(0X7E);//指令开始位
 936   2                                         send(0X04);//说明指令长度
 937   2                                         send(0X42);//指定文件夹播放
 938   2                                         send(0X01);//定位到名称为“01”的文件夹
 939   2                                         send(0x10);//播放第16个音频文件
 940   2                                         send(0XEF);//指令结束位 
 941   2                                     break;
 942   2                      case 0X11: send(0X7E);//指令开始位
 943   2                                         send(0X04);//说明指令长度
 944   2                                         send(0X42);//指定文件夹播放
 945   2                                         send(0X01);//定位到名称为“01”的文件夹
 946   2                                         send(0x11);//播放第17个音频文件
 947   2                                         send(0XEF);//指令结束位 
 948   2                                     break;
 949   2                  case 0X12: send(0X7E);//指令开始位
 950   2                                         send(0X04);//说明指令长度
 951   2                                         send(0X42);//指定文件夹播放
 952   2                                         send(0X01);//定位到名称为“01”的文件夹
 953   2                                         send(0x12);//播放第18个音频文件
 954   2                                         send(0XEF);//指令结束位 
 955   2                                     break;
 956   2                      case 0X13: send(0X7E);//指令开始位
 957   2                                         send(0X04);//说明指令长度
 958   2                                         send(0X42);//指定文件夹播放
 959   2                                         send(0X01);//定位到名称为“01”的文件夹
 960   2                                         send(0x13);//播放第19个音频文件
 961   2                                         send(0XEF);//指令结束位 
 962   2                                     break;
 963   2                      case 0X14: send(0X7E);//指令开始位
 964   2                                         send(0X04);//说明指令长度
 965   2                                         send(0X42);//指定文件夹播放
 966   2                                         send(0X01);//定位到名称为“01”的文件夹
 967   2                                         send(0x14);//播放第20个音频文件
 968   2                                         send(0XEF);//指令结束位 
 969   2                                     break;
 970   2                  case 0X15: send(0X7E);//指令开始位
 971   2                                         send(0X04);//说明指令长度
 972   2                                         send(0X42);//指定文件夹播放
 973   2                                         send(0X01);//定位到名称为“01”的文件夹
 974   2                                         send(0x15);//播放第21个音频文件
 975   2                                         send(0XEF);//指令结束位 
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 17  

 976   2                                     break;
 977   2                      case 0X16: send(0X7E);//指令开始位
 978   2                                         send(0X04);//说明指令长度
 979   2                                         send(0X42);//指定文件夹播放
 980   2                                         send(0X01);//定位到名称为“01”的文件夹
 981   2                                         send(0x16);//播放22个音频文件
 982   2                                         send(0XEF);//指令结束位 
 983   2                                     break;
 984   2                      case 0X17: send(0X7E);//指令开始位
 985   2                                         send(0X04);//说明指令长度
 986   2                                         send(0X42);//指定文件夹播放
 987   2                                         send(0X01);//定位到名称为“01”的文件夹
 988   2                                         send(0x17);//播放第23个音频文件
 989   2                                         send(0XEF);//指令结束位 
 990   2                                     break;
 991   2                  case 0X18: send(0X7E);//指令开始位
 992   2                                         send(0X04);//说明指令长度
 993   2                                         send(0X42);//指定文件夹播放
 994   2                                         send(0X01);//定位到名称为“01”的文件夹
 995   2                                         send(0x18);//播放第24个音频文件
 996   2                                         send(0XEF);//指令结束位 
 997   2                                     break;
 998   2                      case 0X19: send(0X7E);//指令开始位
 999   2                                         send(0X04);//说明指令长度
1000   2                                         send(0X42);//指定文件夹播放
1001   2                                         send(0X01);//定位到名称为“01”的文件夹
1002   2                                         send(0x19);//播放第25个音频文件
1003   2                                         send(0XEF);//指令结束位 
1004   2                                     break;
1005   2                      case 0X1A: send(0X7E);//指令开始位
1006   2                                         send(0X04);//说明指令长度
1007   2                                         send(0X42);//指定文件夹播放
1008   2                                         send(0X01);//定位到名称为“01”的文件夹
1009   2                                         send(0x1A);//播放第26个音频文件
1010   2                                         send(0XEF);//指令结束位 
1011   2                                     break;
1012   2                  case 0X1B: send(0X7E);//指令开始位
1013   2                                         send(0X04);//说明指令长度
1014   2                                         send(0X42);//指定文件夹播放
1015   2                                         send(0X01);//定位到名称为“01”的文件夹
1016   2                                         send(0x1B);//播放第27个音频文件
1017   2                                         send(0XEF);//指令结束位 
1018   2                                     break;
1019   2                      case 0X1C: send(0X7E);//指令开始位
1020   2                                         send(0X04);//说明指令长度
1021   2                                         send(0X42);//指定文件夹播放
1022   2                                         send(0X01);//定位到名称为“01”的文件夹
1023   2                                         send(0x1C);//播放第28个音频文件
1024   2                                         send(0XEF);//指令结束位 
1025   2                                     break;
1026   2                      case 0X1D: send(0X7E);//指令开始位
1027   2                                         send(0X04);//说明指令长度
1028   2                                         send(0X42);//指定文件夹播放
1029   2                                         send(0X01);//定位到名称为“01”的文件夹
1030   2                                         send(0x1D);//播放第29个音频文件
1031   2                                         send(0XEF);//指令结束位 
1032   2                                     break;
1033   2                  case 0X1E: send(0X7E);//指令开始位
1034   2                                         send(0X04);//说明指令长度
1035   2                                         send(0X42);//指定文件夹播放
1036   2                                         send(0X01);//定位到名称为“01”的文件夹
1037   2                                         send(0x1E);//播放第30个音频文件
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 18  

1038   2                                         send(0XEF);//指令结束位 
1039   2                                     break;
1040   2                      case 0X1F: send(0X7E);//指令开始位
1041   2                                         send(0X04);//说明指令长度
1042   2                                         send(0X42);//指定文件夹播放
1043   2                                         send(0X01);//定位到名称为“01”的文件夹
1044   2                                         send(0x1F);//播放第31个音频文件
1045   2                                         send(0XEF);//指令结束位 
1046   2                                     break;
1047   2                      case 0X20: send(0X7E);//指令开始位
1048   2                                         send(0X04);//说明指令长度
1049   2                                         send(0X42);//指定文件夹播放
1050   2                                         send(0X01);//定位到名称为“01”的文件夹
1051   2                                         send(0x20);//播放第32个音频文件
1052   2                                         send(0XEF);//指令结束位 
1053   2                                     break;
1054   2                  case 0X21: send(0X7E);//指令开始位
1055   2                                         send(0X04);//说明指令长度
1056   2                                         send(0X42);//指定文件夹播放
1057   2                                         send(0X01);//定位到名称为“01”的文件夹
1058   2                                         send(0x21);//播放第33个音频文件
1059   2                                         send(0XEF);//指令结束位 
1060   2                                     break;
1061   2                      case 0X22: send(0X7E);//指令开始位
1062   2                                         send(0X04);//说明指令长度
1063   2                                         send(0X42);//指定文件夹播放
1064   2                                         send(0X01);//定位到名称为“01”的文件夹
1065   2                                         send(0x22);//播放第34个音频文件
1066   2                                         send(0XEF);//指令结束位 
1067   2                                     break;
1068   2                      case 0X23: send(0X7E);//指令开始位
1069   2                                         send(0X04);//说明指令长度
1070   2                                         send(0X42);//指定文件夹播放
1071   2                                         send(0X01);//定位到名称为“01”的文件夹
1072   2                                         send(0x23);//播放第35个音频文件
1073   2                                         send(0XEF);//指令结束位 
1074   2                                     break;
1075   2                  case 0X24: send(0X7E);//指令开始位
1076   2                                         send(0X04);//说明指令长度
1077   2                                         send(0X42);//指定文件夹播放
1078   2                                         send(0X01);//定位到名称为“01”的文件夹
1079   2                                         send(0x24);//播放第36个音频文件
1080   2                                         send(0XEF);//指令结束位 
1081   2                                     break;
1082   2                      
1083   2                      
1084   2                      case 0X31: send(0X7E);//指令开始位
1085   2                                         send(0X03);//说明指令长度
1086   2                                         send(0X31);//设置音量
1087   2                                         send(0X20);//20
1088   2                                         send(0XEF);//指令结束位 
1089   2                                     break;
1090   2                      case 0X32: send(0X7E);//指令开始位
1091   2                                         send(0X03);//说明指令长度
1092   2                                         send(0X31);//设置音量
1093   2                                         send(0X10);//20
1094   2                                         send(0XEF);//指令结束位 
1095   2                                     break;
1096   2      
1097   2                      case 0X33: send(0X7E);//指令开始位
1098   2                                         send(0X03);//说明指令长度
1099   2                                         send(0X33);//设置循环模式
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 19  

1100   2                                         send(0X04);//单曲播放
1101   2                                         send(0XEF);//指令结束位 
1102   2                                     break;
1103   2                      
1104   2                      case 0X34: send(0X7E);//指令开始位
1105   2                                         send(0X03);//说明指令长度
1106   2                                         send(0X33);//设置循环模式
1107   2                                         send(0X02);//单曲循环！
1108   2                                         send(0XEF);//指令结束位 
1109   2                                     break;
1110   2                      case 0X35: send(0X7E);//指令开始位
1111   2                                         send(0X03);//说明指令长度
1112   2                                         send(0X31);//设置音量
1113   2                                         send(0X07);//20
1114   2                                         send(0XEF);//指令结束位 
1115   2                                     break;
1116   2                      case 0X36: send(0X7E);//指令开始位
1117   2                                         send(0X03);//说明指令长度
1118   2                                         send(0X31);//设置音量
1119   2                                         send(0X10);//20
1120   2                                         send(0XEF);//指令结束位 
1121   2                                     break;
1122   2                }
1123   1        
1124   1      }
1125          /*********************************************************/
1126          /*                                                       */
1127          /* MP3初始化                                             */
1128          /*                                                       */
1129          /*********************************************************/
1130          void mp3_init()
1131          {
1132   1        mp3(0x33);                 //设置循环模式为文件夹循环
1133   1        mp3(0x31);                 //设置音量为20
1134   1        //mp3(0x00);                 //开机播放
1135   1      
1136   1        /*不关闭串行中断的话一上电就会发送STOP，这样会影响曲名和播放歌曲的对应关系*/
1137   1        ES=0;                                    //串行中断禁止
1138   1        delay_ms(100);                           //等待MP3准备好
1139   1        ES=1;
1140   1      }
1141          
1142          void key_scan(void)
1143          {
1144   1        
1145   1          if(INPUT9==0)                                                        //按键 1 
1146   1                {
1147   2                      delay_ms(50);
1148   2                      if(INPUT9==0)
1149   2                      {
1150   3                              OUT1=1; 
1151   3                              OUT2=0;                        //输出 
1152   3                              OUT3=0;
1153   3                              OUT4=0;
1154   3                              OUT5=0;
1155   3                              OUT6=0;
1156   3                              OUT7=0;
1157   3                              OUT8=0;
1158   3                              OUT9=0;
1159   3                  while(!INPUT9);     
1160   3                              
1161   3                              num[0]=num[1];
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 20  

1162   3                      num[1]=num[2];
1163   3                      num[2]=num[3];
1164   3                      num[3]=num[4];
1165   3                              num[4]=num[5];
1166   3                              num[5]=num[6];
1167   3                              num[6]=num[7];
1168   3                              num[7]=num[8];
1169   3                              num[8]=num[9];
1170   3                      num[9]=num[10];
1171   3                      num[10]=num[11];
1172   3                      num[11]=num[12];
1173   3                              num[12]=num[13];
1174   3                              num[13]=num[14];
1175   3                              num[14]=num[15];
1176   3                              num[15]=num[16];
1177   3                      num[16]=num[17];
1178   3                              num[17]=1;
1179   3      
1180   3                              count1++;
1181   3      
1182   3      
1183   3                      }       
1184   2                }
1185   1              else if(INPUT8==0)                                                       //按键 2 
1186   1                {
1187   2                      delay_ms(50);
1188   2                      if(INPUT8==0)
1189   2                      {
1190   3                      OUT1=0; 
1191   3                              OUT2=1;                        //输出 
1192   3                              OUT3=0;
1193   3                              OUT4=0;
1194   3                              OUT5=0;
1195   3                              OUT6=0;
1196   3                              OUT7=0;
1197   3                              OUT8=0;
1198   3                              OUT9=0;
1199   3                              while(!INPUT8); 
1200   3                              num[0]=num[1];
1201   3                      num[1]=num[2];
1202   3                      num[2]=num[3];
1203   3                      num[3]=num[4];
1204   3                              num[4]=num[5];
1205   3                              num[5]=num[6];
1206   3                              num[6]=num[7];
1207   3                              num[7]=num[8];
1208   3                              num[8]=num[9];
1209   3                      num[9]=num[10];
1210   3                      num[10]=num[11];
1211   3                      num[11]=num[12];
1212   3                              num[12]=num[13];
1213   3                              num[13]=num[14];
1214   3                              num[14]=num[15];
1215   3                              num[15]=num[16];
1216   3                      num[16]=num[17];
1217   3                              num[17]=2;
1218   3      
1219   3      
1220   3                              
1221   3      
1222   3                              count1++;
1223   3                      }       
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 21  

1224   2                }
1225   1              else if(INPUT7==0)                                                       //按键 3 
1226   1                {
1227   2                      delay_ms(50);
1228   2                      if(INPUT7==0)
1229   2                      {
1230   3                              OUT1=0; 
1231   3                              OUT2=0;                        //输出 
1232   3                              OUT3=1;
1233   3                              OUT4=0;
1234   3                              OUT5=0;
1235   3                              OUT6=0;
1236   3                              OUT7=0;
1237   3                              OUT8=0;
1238   3                              OUT9=0;
1239   3                              while(!INPUT7); 
1240   3                              num[0]=num[1];
1241   3                      num[1]=num[2];
1242   3                      num[2]=num[3];
1243   3                      num[3]=num[4];
1244   3                              num[4]=num[5];
1245   3                              num[5]=num[6];
1246   3                              num[6]=num[7];
1247   3                              num[7]=num[8];
1248   3                              num[8]=num[9];
1249   3                      num[9]=num[10];
1250   3                      num[10]=num[11];
1251   3                      num[11]=num[12];
1252   3                              num[12]=num[13];
1253   3                              num[13]=num[14];
1254   3                              num[14]=num[15];
1255   3                              num[15]=num[16];
1256   3                      num[16]=num[17];
1257   3                              num[17]=3;
1258   3      
1259   3      
1260   3                      
1261   3      
1262   3                              count1++;
1263   3                      }       
1264   2                }
1265   1              else if(INPUT6==0)                                                       //按键 4 
1266   1                {
1267   2                      delay_ms(50);
1268   2                      if(INPUT6==0)
1269   2                      {
1270   3                              OUT1=0; 
1271   3                              OUT2=0;                        //输出 
1272   3                              OUT3=0;
1273   3                              OUT4=1;
1274   3                              OUT5=0;
1275   3                              OUT6=0;
1276   3                              OUT7=0;
1277   3                              OUT8=0;
1278   3                              OUT9=0;
1279   3                              while(!INPUT6); 
1280   3                              num[0]=num[1];
1281   3                      num[1]=num[2];
1282   3                      num[2]=num[3];
1283   3                      num[3]=num[4];
1284   3                              num[4]=num[5];
1285   3                              num[5]=num[6];
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 22  

1286   3                              num[6]=num[7];
1287   3                              num[7]=num[8];
1288   3                              num[8]=num[9];
1289   3                      num[9]=num[10];
1290   3                      num[10]=num[11];
1291   3                      num[11]=num[12];
1292   3                              num[12]=num[13];
1293   3                              num[13]=num[14];
1294   3                              num[14]=num[15];
1295   3                              num[15]=num[16];
1296   3                      num[16]=num[17];
1297   3                              num[17]=4;
1298   3      
1299   3                      
1300   3      
1301   3                              count1++;
1302   3                      }       
1303   2                }
1304   1               else if(INPUT5==0)                                                      //按键 5 
1305   1                {
1306   2                      delay_ms(50);
1307   2                      if(INPUT5==0)
1308   2                      {
1309   3                      OUT1=0; 
1310   3                              OUT2=0;                        //输出 
1311   3                              OUT3=0;
1312   3                              OUT4=0;
1313   3                              OUT5=1;
1314   3                              OUT6=0;
1315   3                              OUT7=0;
1316   3                              OUT8=0;
1317   3                              OUT9=0; 
1318   3                              while(!INPUT5); 
1319   3                              num[0]=num[1];
1320   3                      num[1]=num[2];
1321   3                      num[2]=num[3];
1322   3                      num[3]=num[4];
1323   3                              num[4]=num[5];
1324   3                              num[5]=num[6];
1325   3                              num[6]=num[7];
1326   3                              num[7]=num[8];
1327   3                              num[8]=num[9];
1328   3                      num[9]=num[10];
1329   3                      num[10]=num[11];
1330   3                      num[11]=num[12];
1331   3                              num[12]=num[13];
1332   3                              num[13]=num[14];
1333   3                              num[14]=num[15];
1334   3                              num[15]=num[16];
1335   3                      num[16]=num[17];
1336   3                              num[17]=5;
1337   3                              
1338   3      
1339   3                              count1++;
1340   3                      }       
1341   2                }
1342   1               else if(OUT29==0)                                                       //按键 6 
1343   1                {
1344   2                      delay_ms(50);
1345   2                      if(OUT29==0)
1346   2                      {
1347   3                       OUT1=0;        
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 23  

1348   3                              OUT2=0;                        //输出 
1349   3                              OUT3=0;
1350   3                              OUT4=0;
1351   3                              OUT5=0;
1352   3                              OUT6=1;
1353   3                              OUT7=0;
1354   3                              OUT8=0;
1355   3                              OUT9=0;
1356   3                              while(!OUT29);  
1357   3                              num[0]=num[1];
1358   3                      num[1]=num[2];
1359   3                      num[2]=num[3];
1360   3                      num[3]=num[4];
1361   3                              num[4]=num[5];
1362   3                              num[5]=num[6];
1363   3                              num[6]=num[7];
1364   3                              num[7]=num[8];
1365   3                              num[8]=num[9];
1366   3                      num[9]=num[10];
1367   3                      num[10]=num[11];
1368   3                      num[11]=num[12];
1369   3                              num[12]=num[13];
1370   3                              num[13]=num[14];
1371   3                              num[14]=num[15];
1372   3                              num[15]=num[16];
1373   3                      num[16]=num[17];
1374   3                              num[17]=6;
1375   3      
1376   3                              
1377   3      
1378   3                              count1++;
1379   3                      }       
1380   2                }
1381   1               else if(OUT28==0)                                                       //按键 7 
1382   1                {
1383   2                      delay_ms(50);
1384   2                      if(OUT28==0)
1385   2                      {
1386   3                              OUT1=0; 
1387   3                              OUT2=0;                        //输出 
1388   3                              OUT3=0;
1389   3                              OUT4=0;
1390   3                              OUT5=0;
1391   3                              OUT6=0;
1392   3                              OUT7=1;
1393   3                              OUT8=0;
1394   3                              OUT9=0;
1395   3                              while(!OUT28);  
1396   3                              num[0]=num[1];
1397   3                      num[1]=num[2];
1398   3                      num[2]=num[3];
1399   3                      num[3]=num[4];
1400   3                              num[4]=num[5];
1401   3                              num[5]=num[6];
1402   3                              num[6]=num[7];
1403   3                              num[7]=num[8];
1404   3                              num[8]=num[9];
1405   3                      num[9]=num[10];
1406   3                      num[10]=num[11];
1407   3                      num[11]=num[12];
1408   3                              num[12]=num[13];
1409   3                              num[13]=num[14];
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 24  

1410   3                              num[14]=num[15];
1411   3                              num[15]=num[16];
1412   3                      num[16]=num[17];
1413   3                              num[17]=7;
1414   3      
1415   3                      
1416   3      
1417   3                              count1++;
1418   3                      }       
1419   2                }
1420   1               else if(OUT27==0)                                                       //按键 8 
1421   1                {
1422   2                      delay_ms(50);
1423   2                      if(OUT27==0)
1424   2                      {
1425   3                      OUT1=0; 
1426   3                              OUT2=0;                        //输出 
1427   3                              OUT3=0;
1428   3                              OUT4=0;
1429   3                              OUT5=0;
1430   3                              OUT6=0;
1431   3                              OUT7=0;
1432   3                              OUT8=1;
1433   3                              OUT9=0; 
1434   3                              while(!OUT27);  
1435   3                              num[0]=num[1];
1436   3                      num[1]=num[2];
1437   3                      num[2]=num[3];
1438   3                      num[3]=num[4];
1439   3                              num[4]=num[5];
1440   3                              num[5]=num[6];
1441   3                              num[6]=num[7];
1442   3                              num[7]=num[8];
1443   3                              num[8]=num[9];
1444   3                      num[9]=num[10];
1445   3                      num[10]=num[11];
1446   3                      num[11]=num[12];
1447   3                              num[12]=num[13];
1448   3                              num[13]=num[14];
1449   3                              num[14]=num[15];
1450   3                              num[15]=num[16];
1451   3                      num[16]=num[17];
1452   3                              num[17]=8;
1453   3                              count1++;
1454   3                      }       
1455   2                }
1456   1              else if(OUT26==0)                                                        //按键 9 
1457   1                {
1458   2                      delay_ms(50);
1459   2                      if(OUT26==0)
1460   2                      {
1461   3                      OUT1=0; 
1462   3                              OUT2=0;                        //输出 
1463   3                              OUT3=0;
1464   3                              OUT4=0;
1465   3                              OUT5=0;
1466   3                              OUT6=0;
1467   3                              OUT7=0;
1468   3                              OUT8=0;
1469   3                              OUT9=1; 
1470   3                              while(!OUT26);                  
1471   3                              num[0]=num[1];
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 25  

1472   3                      num[1]=num[2];
1473   3                      num[2]=num[3];
1474   3                      num[3]=num[4];
1475   3                              num[4]=num[5];
1476   3                              num[5]=num[6];
1477   3                              num[6]=num[7];
1478   3                              num[7]=num[8];
1479   3                              num[8]=num[9];
1480   3                      num[9]=num[10];
1481   3                      num[10]=num[11];
1482   3                      num[11]=num[12];
1483   3                              num[12]=num[13];
1484   3                              num[13]=num[14];
1485   3                              num[14]=num[15];
1486   3                              num[15]=num[16];
1487   3                      num[16]=num[17];
1488   3                              num[17]=9;
1489   3      
1490   3                              count1++;
1491   3                      }       
1492   2                }
1493   1      
1494   1      }
1495          
1496          
1497          
1498          void key_scan2(void)
1499          {
1500   1        
1501   1          if(INPUT16==0)                                                       //按键 1 
1502   1                {
1503   2                      delay_ms(50);
1504   2                      if(INPUT16==0)
1505   2                      {
1506   3                      while(!INPUT16);        
1507   3                          num1[0]=num1[1];
1508   3                      num1[1]=num1[2];
1509   3                      num1[2]=num1[3];
1510   3                      num1[3]=num1[4];
1511   3                              num1[4]=num1[5];
1512   3                              num1[5]=num1[6];
1513   3                              num1[6]=num1[7];
1514   3                              num1[7]=1;
1515   3      
1516   3                              
1517   3                              M10=1;          //
1518   3                              M11=0;
1519   3                              M20=0;          //
1520   3                              M21=0;
1521   3                              M30=0;
1522   3                              M31=0;
1523   3                              OUT21=0;
1524   3                              OUT22=0;
1525   3      
1526   3                              count2++;
1527   3      
1528   3                              mp3(0x33);        //音效26      任务完成
1529   3                          mp3(0x1A);    //
1530   3      
1531   3                      }       
1532   2                }
1533   1              else if(INPUT15==0)                                                      //按键 2 
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 26  

1534   1                {
1535   2                      delay_ms(50);
1536   2                      if(INPUT15==0)
1537   2                      {
1538   3                       while(!INPUT15);       
1539   3                              num1[0]=num1[1];
1540   3                      num1[1]=num1[2];
1541   3                      num1[2]=num1[3];
1542   3                      num1[3]=num1[4];
1543   3                              num1[4]=num1[5];
1544   3                              num1[5]=num1[6];
1545   3                              num1[6]=num1[7];
1546   3                              num1[7]=2;
1547   3      
1548   3      
1549   3                              M10=0;          //
1550   3                              M11=0;
1551   3                              M20=0;          //
1552   3                              M21=0;
1553   3                              M30=0;
1554   3                              M31=1;
1555   3                              OUT21=0;
1556   3                              OUT22=0;
1557   3      
1558   3                              count2++;
1559   3                              mp3(0x33);        //音效27      任务完成
1560   3                          mp3(0x1B);    //
1561   3                      }       
1562   2                }
1563   1              else if(INPUT14==0)                                                      //按键 3 
1564   1                {
1565   2                      delay_ms(50);
1566   2                      if(INPUT14==0)
1567   2                      {
1568   3                       while(!INPUT14);       
1569   3                              num1[0]=num1[1];
1570   3                      num1[1]=num1[2];
1571   3                      num1[2]=num1[3];
1572   3                      num1[3]=num1[4];
1573   3                              num1[4]=num1[5];
1574   3                              num1[5]=num1[6];
1575   3                              num1[6]=num1[7];
1576   3                              num1[7]=3;
1577   3      
1578   3      
1579   3                              M10=0;          //
1580   3                              M11=0;
1581   3                              M20=1;          //
1582   3                              M21=0;
1583   3                              M30=0;
1584   3                              M31=0;
1585   3                              OUT21=0;
1586   3                              OUT22=0;
1587   3      
1588   3                              count2++;
1589   3                          mp3(0x33);    //音效28      任务完成
1590   3                          mp3(0x1C);    //
1591   3                      }       
1592   2                }
1593   1              else if(INPUT13==0)                                                      //按键 4 
1594   1                {
1595   2                      delay_ms(50);
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 27  

1596   2                      if(INPUT13==0)
1597   2                      {
1598   3                       while(!INPUT13);       
1599   3                              num1[0]=num1[1];
1600   3                      num1[1]=num1[2];
1601   3                      num1[2]=num1[3];
1602   3                      num1[3]=num1[4];
1603   3                              num1[4]=num1[5];
1604   3                              num1[5]=num1[6];
1605   3                              num1[6]=num1[7];
1606   3                              num1[7]=4;
1607   3      
1608   3      
1609   3                              M10=0;          //
1610   3                              M11=0;
1611   3                              M20=0;          //
1612   3                              M21=1;
1613   3                              M30=0;
1614   3                              M31=0;
1615   3                              OUT21=0;
1616   3                              OUT22=0;
1617   3      
1618   3                              count2++;
1619   3                              mp3(0x33);        //音效29      任务完成
1620   3                          mp3(0x1D);    //
1621   3                      }       
1622   2                }
1623   1               else if(INPUT12==0)                                                     //按键 5 
1624   1                {
1625   2                      delay_ms(50);
1626   2                      if(INPUT12==0)
1627   2                      {
1628   3                       while(!INPUT12);       
1629   3                              num1[0]=num1[1];
1630   3                      num1[1]=num1[2];
1631   3                      num1[2]=num1[3];
1632   3                      num1[3]=num1[4];
1633   3                              num1[4]=num1[5];
1634   3                              num1[5]=num1[6];
1635   3                              num1[6]=num1[7];
1636   3                              num1[7]=5;
1637   3      
1638   3      
1639   3                              M10=0;          //
1640   3                              M11=1;
1641   3                              M20=0;          //
1642   3                              M21=0;
1643   3                              M30=0;
1644   3                              M31=0;
1645   3                              OUT21=0;
1646   3                              OUT22=0;
1647   3      
1648   3                              count2++;
1649   3                          mp3(0x33);    //音效30      任务完成
1650   3                          mp3(0x1E);    //
1651   3                      }       
1652   2                }
1653   1               else if(INPUT11==0)                                                     //按键 6 
1654   1                {
1655   2                      delay_ms(50);
1656   2                      if(INPUT11==0)
1657   2                      {
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 28  

1658   3                       while(!INPUT11);       
1659   3                              num1[0]=num1[1];
1660   3                      num1[1]=num1[2];
1661   3                      num1[2]=num1[3];
1662   3                      num1[3]=num1[4];
1663   3                              num1[4]=num1[5];
1664   3                              num1[5]=num1[6];
1665   3                              num1[6]=num1[7];
1666   3                              num1[7]=6;
1667   3      
1668   3      
1669   3                              M10=0;          //
1670   3                              M11=0;
1671   3                              M20=0;          //
1672   3                              M21=0;
1673   3                              M30=0;
1674   3                              M31=0;
1675   3                              OUT21=1;
1676   3                              OUT22=0;
1677   3      
1678   3                              count2++;
1679   3                                      mp3(0x33);        //音效31      任务完成
1680   3                          mp3(0x1F);    //
1681   3                      }       
1682   2                }
1683   1               else if(INPUT10==0)                                                     //按键 7 
1684   1                {
1685   2                      delay_ms(50);
1686   2                      if(INPUT10==0)
1687   2                      {
1688   3                       while(!INPUT10);       
1689   3                              num1[0]=num1[1];
1690   3                      num1[1]=num1[2];
1691   3                      num1[2]=num1[3];
1692   3                      num1[3]=num1[4];
1693   3                              num1[4]=num1[5];
1694   3                              num1[5]=num1[6];
1695   3                              num1[6]=num1[7];
1696   3                              num1[7]=7;
1697   3      
1698   3      
1699   3                              M10=0;          //
1700   3                              M11=0;
1701   3                              M20=0;          //
1702   3                              M21=0;
1703   3                              M30=1;
1704   3                              M31=0;
1705   3                              OUT21=0;
1706   3                              OUT22=0;
1707   3      
1708   3                              count2++;
1709   3                              mp3(0x33);        //音效32      
1710   3                          mp3(0x20);    //
1711   3                      }       
1712   2                }
1713   1               else if(OUT25==0)                                                       //按键 8 
1714   1                {
1715   2                      delay_ms(50);
1716   2                      if(OUT25==0)
1717   2                      {
1718   3                       while(!OUT25); 
1719   3                              num1[0]=num1[1];
C51 COMPILER V9.01   MAIN                                                                  03/18/2016 17:45:54 PAGE 29  

1720   3                      num1[1]=num1[2];
1721   3                      num1[2]=num1[3];
1722   3                      num1[3]=num1[4];
1723   3                              num1[4]=num1[5];
1724   3                              num1[5]=num1[6];
1725   3                              num1[6]=num1[7];
1726   3                              num1[7]=8;
1727   3      
1728   3                              M10=0;          //
1729   3                              M11=0;
1730   3                              M20=0;          //
1731   3                              M21=0;
1732   3                              M30=0;
1733   3                              M31=0;
1734   3                              OUT21=0;
1735   3                              OUT22=1;
1736   3      
1737   3                              count2++;
1738   3                              mp3(0x33);        //音效33      
1739   3                          mp3(0x21);    //
1740   3                      }       
1741   2                }
1742   1      
1743   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   5740    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =    106    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
