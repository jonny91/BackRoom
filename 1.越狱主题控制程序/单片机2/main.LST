C51 COMPILER V9.05   MAIN                                                                  06/14/2016 21:21:33 PAGE 1   


C51 COMPILER V9.05, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: D:\Keil\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include "STC12C5A60S2.h"
   2          #include "intrins.h" 
   3          #include "stdio.h"
   4          #include"uart.h"
   5          
   6          #define uchar unsigned char
   7          #define uint unsigned int
   8          
   9          sbit OUT1   =  P4^2;            //Êä³öIO¿Ú1£¬             R6ÉóÑ¶ÊÒµç´ÅËø
  10          sbit OUT2   =  P1^0;        //Êä³ö2£¬             R7Ò½ÎñÊÒµç´ÅËø
  11          sbit OUT3   =  P1^1;            //Êä³ö3£¬                 Í¨·ç¹ÜµÄµç´ÅËø
  12          sbit OUT4   =  P1^2;        //Êä³ö4£¬             R6ÉóÑ¶ÊÒÕÕÃ÷µÆ
  13          sbit OUT5   =  P1^3;        //Êä³ö5£¬             Ä§¹íÍ¼¿ØÖÆ¼ÌµçÆ÷
  14          sbit OUT6   =  P1^4;            //Êä³ö6£¬                 Õ¨µ¯MP3ÒôÐ§¿ØÖÆÆ÷
  15          sbit OUT7   =  P1^5;            //Êä³ö7£¬        
  16          sbit OUT8   =  P1^6;            //Êä³ö8£¬        
  17          sbit OUT9   =  P1^7;            //Êä³ö9£¬        
  18          sbit OUT10  =  P4^3;            //Êä³ö10£¬       
  19          sbit OUT11  =  P3^2;        //Êä³ö11£¬
  20          sbit OUT12  =  P3^3;        //Êä³ö12£¬
  21          
  22          sbit M10     =  P2^6;            //µç¸×1+                     
  23          sbit M11     =  P2^7;            //µç¸×1-
  24          sbit M20     =  P3^4;            //µç¸×2+
  25          sbit M21     =  P3^5;            //µç¸×2-
  26          sbit M30     =  P3^6;            //µç¸×3+
  27          sbit M31     =  P3^7;            //µç¸×3-
  28          
  29          sbit OUT21   =  P4^0;           //Êä³öIO¿ØÖÆ¿Ú21
  30          sbit OUT22   =  P2^0;       //Êä³ö22
  31          sbit OUT23   =  P2^1;           //Êä³ö23
  32          sbit OUT24   =  P2^2;       //Êä³ö24
  33          sbit OUT25   =  P2^3;       //Êä³ö25
  34          sbit OUT26   =  P2^4;           //Êä³ö26
  35          sbit OUT27   =  P2^5;           //Êä³ö27
  36          
  37          sbit INPUT16   =  P4^4;         //ÊäÈëIO¿ØÖÆ¿Ú16£¬      ´¥Ãþ¿ª¹Ø1
  38          sbit INPUT15   =  P4^5;     //ÊäÈë15£¬                  ´¥Ãþ¿ª¹Ø2
  39          sbit INPUT14   =  P4^1;         //ÊäÈë14                                ´¥Ãþ¿ª¹Ø3
  40          sbit INPUT13   =  P4^6;     //ÊäÈë13                            ´¥Ãþ¿ª¹Ø4
  41          sbit INPUT12   =  P0^7;     //ÊäÈë12                            ´¥Ãþ¿ª¹Ø5
  42          sbit INPUT11   =  P0^6;         //ÊäÈë11£¬°´¼üÀàÐÍ              ´¥Ãþ¿ª¹Ø6
  43          
  44          sbit INPUT10   =  P0^5;         //ÊäÈë10£¬ÃÅ½ûÀàÐÍ          Õ¨µ¯¸ÐÓ¦»ô¶û¿ª¹Ø
  45          sbit INPUT9    =  P0^4;         //ÊäÈë9£¬ÃÅ½û                   Í¨·ç¹ÜÃÅ½û
  46          sbit INPUT8    =  P0^3;         //ÊäÈë8£¬ÃÅ½û                   ÈËÌå¸ÐÓ¦¿ª¹Ø
  47          sbit INPUT7    =  P0^2;         //ÊäÈë7£¬ÃÅ½û                   Õ¨µ¯Ò£¿ØÆ÷£¡
  48          sbit INPUT6    =  P0^1;         //ÊäÈë6£¬ÃÅ½û                   Ò½ÎñÊÒµÄÃÅ½û
  49          sbit INPUT5    =  P0^0;     //ÊäÈë5£¬ÃÅ½ûÀàÐÍ    
  50          
  51          sbit RXD   =  P3^0;         
  52          sbit TXD   =  P3^1;
  53          
  54          #define uchar unsigned char
  55          #define uint unsigned int
C51 COMPILER V9.05   MAIN                                                                  06/14/2016 21:21:33 PAGE 2   

  56          
  57          sfr P4sw=0xbb;
  58          
  59          void sys_init(void);
  60          void delay_ms(int count);
  61          void mp3_init();
  62          void mp3(unsigned char comd);
  63          
  64          unsigned char Game_Start=0,door1=0,door2=0,door3=0;
  65          unsigned char flag_boom=0,flag_R6=0,flag_devil=0,i=0,flag_X=0;
  66          
  67          /************************************************************************
  68              º¯ÊýÃû³Æ£º   void main(void)                
  69              º¯Êý¹¦ÄÜ£º   
  70              µ÷ÓÃº¯Êý£º  void delay(unsigned int loop_time)      
  71          *************************************************************************/
  72          void main()
  73          {
  74   1              sys_init();             
  75   1              P4sw = 0x70;
  76   1              Game_Start=0;
  77   1              flag_boom=0;
  78   1              flag_R6=0;
  79   1              flag_devil=0;
  80   1              flag_X=0;
  81   1              while(1)
  82   1                {                                     
  83   2                               
  84   2                               if((INPUT10==0)&&(flag_X==0))
  85   2                               {
  86   3                                     mp3(0X33);
  87   3                                         mp3(0X04);
  88   3                                         delay_ms(1000);
  89   3                                         flag_X=1; 
  90   3                               }
  91   2                               else if((INPUT10==1)&&(flag_X==1))
  92   2                               {
  93   3                                         flag_X=0; 
  94   3                                         delay_ms(500);
  95   3                               }
  96   2                                       
  97   2                              // if((INPUT7==0)&&(INPUT8==1)&&(INPUT10==0)&&(flag_R6==0))             //°´ÏÂÒ£¿ØÆ÷7£¬²¢ÇÒÈËÌå¸ÐÓ¦¿ª¹ØÎÞ¸ÐÓ¦8,²¢Ç
             -ÒÕ¨µ¯·ÅÔÚÖ¸¶¨Î»ÖÃ
  98   2                              // {
  99   2                              //  delay_ms(50);
 100   2                              //  if((INPUT7==0)&&(INPUT8==1)&&(INPUT10==0)&&(flag_R6==0))
 101   2                               // {
 102   2      
 103   2                               if((INPUT7==0)&&(INPUT10==0)&&(flag_R6==0))            //°´ÏÂÒ£¿ØÆ÷7£¬²¢ÇÒÈËÌå¸ÐÓ¦¿ª¹ØÎÞ¸ÐÓ¦8,²¢ÇÒÕ¨µ¯·ÅÔÚÖ¸¶¨Î»
             -ÖÃ
 104   2                               {
 105   3                                delay_ms(50);
 106   3                                if((INPUT7==0)&&(INPUT10==0)&&(flag_R6==0))
 107   3                                {
 108   4                                      OUT6=1;                                                  //¿ªÆôMP3£¬Õ¨µ¯ÒôÐ§
 109   4                                      
 110   4                                      for(i=0;i<20;i++)                               //ÑÓÊ±Ò»¶ÎÊ±¼äºó¹Ø·¿¼äµÄµÆ
 111   4                                      {
 112   5                                        delay_ms(500);
 113   5                                      }
 114   4                                         OUT4=1;         //R6µÄÕÕÃ÷µÆÃð
 115   4                                         OUT1=0;         //R6µÄÃÅ´ò¿ª
C51 COMPILER V9.05   MAIN                                                                  06/14/2016 21:21:33 PAGE 3   

 116   4                                         delay_ms(500);       
 117   4                                         OUT6=0;
 118   4                                         delay_ms(500);
 119   4                                         mp3(0X33);
 120   4                                         mp3(0X01);
 121   4                                         delay_ms(3000);
 122   4                                         flag_R6=1;      //R6Í¨¹ý£¡
 123   4                              
 124   4                                }
 125   3                               }
 126   2                      if(INPUT6==0)         //R7µÄÃÅ½û°´ÏÂÊ±
 127   2                      {
 128   3                         OUT5=1;                         //Ä§¹íÍ¼Æô¶¯
 129   3                         flag_devil=1;
 130   3                      }
 131   2                      
 132   2                      if(flag_devil==1)
 133   2                      {
 134   3                         if((INPUT11==1)&&(INPUT12==1)&&(INPUT13==1)&&(INPUT14==1))
 135   3                         {
 136   4                               OUT2=0; 
 137   4                                         mp3(0X33);
 138   4                                         mp3(0X02);
 139   4                                         delay_ms(6000);
 140   4                                          mp3(0X33);
 141   4                                         mp3(0X03);
 142   4      
 143   4                                         flag_devil=0;
 144   4                         }
 145   3                         else if((INPUT11==1)&&(INPUT12==1)&&(INPUT13==1)&&(INPUT15==1))
 146   3                         {
 147   4                               OUT2=0;
 148   4                                     mp3(0X33);
 149   4                                         mp3(0X02);
 150   4                                         delay_ms(6000);
 151   4                                          mp3(0X33);
 152   4                                         mp3(0X03);
 153   4      
 154   4                                         flag_devil=0;
 155   4                         }
 156   3                         else if((INPUT11==1)&&(INPUT12==1)&&(INPUT13==1)&&(INPUT16==1))
 157   3                         {
 158   4                               OUT2=0;
 159   4                                     mp3(0X33);
 160   4                                         mp3(0X02);
 161   4                                         delay_ms(6000);
 162   4                                          mp3(0X33);
 163   4                                         mp3(0X03);
 164   4      
 165   4                                         flag_devil=0;
 166   4                         }
 167   3                         else if((INPUT11==1)&&(INPUT12==1)&&(INPUT14==1)&&(INPUT15==1))
 168   3                         {
 169   4                               OUT2=0;
 170   4      
 171   4                                     mp3(0X33);
 172   4                                         mp3(0X02);
 173   4                                         delay_ms(6000);
 174   4                                          mp3(0X33);
 175   4                                         mp3(0X03);
 176   4                                         flag_devil=0;
 177   4      
C51 COMPILER V9.05   MAIN                                                                  06/14/2016 21:21:33 PAGE 4   

 178   4                         }
 179   3                         else if((INPUT11==1)&&(INPUT12==1)&&(INPUT14==1)&&(INPUT16==1))
 180   3                         {
 181   4                               OUT2=0;
 182   4      
 183   4                                     mp3(0X33);
 184   4                                         mp3(0X02);
 185   4                                         delay_ms(6000);
 186   4                                          mp3(0X33);
 187   4                                         mp3(0X03);
 188   4                                         flag_devil=0;
 189   4      
 190   4                         }
 191   3                         else if((INPUT11==1)&&(INPUT12==1)&&(INPUT15==1)&&(INPUT16==1))
 192   3                         {
 193   4                               OUT2=0;
 194   4      
 195   4                                     mp3(0X33);
 196   4                                         mp3(0X02);
 197   4                                         delay_ms(6000);
 198   4                                          mp3(0X33);
 199   4                                         mp3(0X03);
 200   4                                         flag_devil=0;
 201   4      
 202   4                         }
 203   3                         else if((INPUT11==1)&&(INPUT13==1)&&(INPUT14==1)&&(INPUT15==1))
 204   3                         {
 205   4                               OUT2=0;
 206   4      
 207   4                                     mp3(0X33);
 208   4                                         mp3(0X02);
 209   4                                         delay_ms(6000);
 210   4                                          mp3(0X33);
 211   4                                         mp3(0X03);
 212   4                                         flag_devil=0;
 213   4      
 214   4                         }
 215   3      
 216   3                         else if((INPUT11==1)&&(INPUT13==1)&&(INPUT14==1)&&(INPUT16==1))
 217   3                         {
 218   4                               OUT2=0;
 219   4      
 220   4                                     mp3(0X33);
 221   4                                         mp3(0X02);
 222   4                                         delay_ms(6000);
 223   4                                          mp3(0X33);
 224   4                                         mp3(0X03);
 225   4                                         flag_devil=0;
 226   4      
 227   4                         }
 228   3                         else if((INPUT11==1)&&(INPUT13==1)&&(INPUT15==1)&&(INPUT16==1))
 229   3                         {
 230   4                               OUT2=0;
 231   4      
 232   4                                     mp3(0X33);
 233   4                                         mp3(0X02);
 234   4                                         delay_ms(6000);
 235   4                                          mp3(0X33);
 236   4                                         mp3(0X03);
 237   4                                         flag_devil=0;
 238   4      
 239   4                         }
C51 COMPILER V9.05   MAIN                                                                  06/14/2016 21:21:33 PAGE 5   

 240   3                         else if((INPUT11==1)&&(INPUT14==1)&&(INPUT15==1)&&(INPUT16==1))
 241   3                         {
 242   4                               OUT2=0;
 243   4      
 244   4                                     mp3(0X33);
 245   4                                         mp3(0X02);
 246   4                                         delay_ms(6000);
 247   4                                          mp3(0X33);
 248   4                                         mp3(0X03);
 249   4                                         flag_devil=0;
 250   4      
 251   4                         }
 252   3                         else if((INPUT12==1)&&(INPUT13==1)&&(INPUT14==1)&&(INPUT15==1))
 253   3                         {
 254   4                               OUT2=0;
 255   4      
 256   4                                     mp3(0X33);
 257   4                                         mp3(0X02);
 258   4                                         delay_ms(6000);
 259   4                                          mp3(0X33);
 260   4                                         mp3(0X03);
 261   4                                         flag_devil=0;
 262   4      
 263   4                         }
 264   3                         else if((INPUT12==1)&&(INPUT13==1)&&(INPUT14==1)&&(INPUT16==1))
 265   3                         {
 266   4                               OUT2=0;
 267   4      
 268   4                                     mp3(0X33);
 269   4                                         mp3(0X02);
 270   4                                         delay_ms(6000);
 271   4                                          mp3(0X33);
 272   4                                         mp3(0X03);
 273   4                                         flag_devil=0;
 274   4      
 275   4                         }
 276   3                         else if((INPUT12==1)&&(INPUT13==1)&&(INPUT15==1)&&(INPUT16==1))
 277   3                         {
 278   4                               OUT2=0;
 279   4      
 280   4                                     mp3(0X33);
 281   4                                         mp3(0X02);
 282   4                                         delay_ms(6000);
 283   4                                          mp3(0X33);
 284   4                                         mp3(0X03);
 285   4                                         flag_devil=0;
 286   4      
 287   4                         }
 288   3                         else if((INPUT12==2)&&(INPUT14==1)&&(INPUT15==1)&&(INPUT16==1))
 289   3                         {
 290   4                               OUT2=0;
 291   4      
 292   4                                     mp3(0X33);
 293   4                                         mp3(0X02);
 294   4                                         delay_ms(6000);
 295   4                                          mp3(0X33);
 296   4                                         mp3(0X03);
 297   4                                         flag_devil=0;
 298   4      
 299   4                         }
 300   3                         else if((INPUT13==1)&&(INPUT14==1)&&(INPUT15==1)&&(INPUT16==1))
 301   3                         {
C51 COMPILER V9.05   MAIN                                                                  06/14/2016 21:21:33 PAGE 6   

 302   4                               OUT2=0;
 303   4      
 304   4                                     mp3(0X33);
 305   4                                         mp3(0X02);
 306   4                                         delay_ms(6000);
 307   4                                          mp3(0X33);
 308   4                                         mp3(0X03);
 309   4                                         flag_devil=0;
 310   4      
 311   4                         }
 312   3      
 313   3                      }
 314   2                      
 315   2                      if(INPUT9==0)                    //Í¨·ç¹ÜÃÅ½û
 316   2                      {
 317   3                        OUT3=0;
 318   3                      }       
 319   2      
 320   2        }                                                                                                       
 321   1      }
 322                                                                                                                                                                                      
 323          void sys_init()
 324          {
 325   1              P0M1=0X00;
 326   1              P0M0=0Xff;      //ÉèÖÃP0ÎªÍÆÍìÊä³ö
 327   1              
 328   1              P1M1=0X00;
 329   1              P1M0=0XFF;          //ÉèÖÃP1ÎªÍÆÍìÊä³ö
 330   1              
 331   1              P2M1=0X00;
 332   1              P2M0=0XFF;              //ÉèÖÃP2¿ÚÎªÍÆÍìÊä³ö
 333   1              
 334   1              P3M1=0X00;
 335   1              P3M0=0XFC;          //ÉèÖÃP3ÎªÍÆÍìÊä³ö
 336   1      
 337   1              P4M1=0X00;
 338   1              P4M0=0XFF;      //ÉèÖÃP4ÎªÍÆÍìÊä³ö
 339   1              
 340   1                      
 341   1              //R6-R7-Í¨·ç¹Ü   ËùÓÐµç´ÅËøÎüºÏ
 342   1              OUT1=1;          //
 343   1              OUT2=1;
 344   1              OUT3=1;
 345   1      
 346   1              OUT4=0;          //      R6ÉóÑ¶ÊÒÕÕÃ÷
 347   1              OUT5=0;          //      Ä§¹íÍ¼¹Ø±Õ
 348   1              
 349   1              OUT6=0;         //  Õ¨µ¯MP3ÒôÐ§¹Ø±Õ
 350   1      
 351   1              OUT7=1;         //      R4ÃÅ½û´ò¿ª
 352   1              OUT8=0;         //  ±¨¾¯µÆ1¹Ø±Õ
 353   1              OUT9=0;         //      ±¨¾¯µÆ2¹Ø±Õ
 354   1              OUT10=0;        //      ±¨¾¯µÆ3¹Ø±Õ
 355   1      
 356   1              
 357   1              INPUT16=1;  //
 358   1              INPUT15=1;      //
 359   1              INPUT14=1; 
 360   1              INPUT13=1; 
 361   1              INPUT11=1;      //6¸ö´¥Ãþ¿ª¹Ø£¬´¥ÃþÊ±·µ»Ø¸ßµçÆ½
 362   1              INPUT12=1;
 363   1      
C51 COMPILER V9.05   MAIN                                                                  06/14/2016 21:21:33 PAGE 7   

 364   1              INPUT10=1;      //»ô¶û¿ª¹Ø
 365   1              INPUT9=1;       //Í¨·ç¹ÜÃÅ½û
 366   1              INPUT8=1;       //ÈËÌå¸ÐÓ¦¿ª¹Ø
 367   1              INPUT7=1;       //Õ¨µ¯Ò£¿ØÆ÷
 368   1              INPUT6=1;   //Ò½ÎñÊÒµÄÃÅ½û
 369   1              INPUT5=1;
 370   1                        
 371   1              uart_init();               //´®¿Ú³õÊ¼»¯ 
 372   1              mp3_init();                //MP3³õÊ¼»¯  */
 373   1      
 374   1      }
 375          
 376          /*********************************************************/
 377          /*                                                       */
 378          /* 1MSÑÓÊ±º¯Êý                                           */
 379          /*                                                       */
 380          /*********************************************************/
 381          void delay_ms(int count)  // /* X1ms */
 382          {
 383   1              int i,j;
 384   1              for(i=0;i<count;i++)
 385   1                      for(j=0;j<1000;j++);
 386   1      } 
 387          
 388          
 389          
 390          /*********************************************************/
 391          /*                                                       */
 392          /* MP3²Ù×÷Ö¸Áî                                           */
 393          /*                                                       */
 394          /*********************************************************/
 395          void mp3(unsigned char comd)
 396          {
 397   1        switch(comd)
 398   1                {
 399   2                  
 400   2                  case 0X01: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 401   2                                         send(0X04);//ËµÃ÷Ö¸Áî³¤¶È
 402   2                                         send(0X42);//Ö¸¶¨ÎÄ¼þ¼Ð²¥·Å
 403   2                                         send(0X01);//¶¨Î»µ½Ãû³ÆÎª¡°01¡±µÄÎÄ¼þ¼Ð
 404   2                                         send(0x01);//²¥·ÅµÚ1¸öÒôÆµÎÄ¼þ
 405   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 406   2                                     break;
 407   2                      case 0X02: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 408   2                                         send(0X04);//ËµÃ÷Ö¸Áî³¤¶È
 409   2                                         send(0X42);//Ö¸¶¨ÎÄ¼þ¼Ð²¥·Å
 410   2                                         send(0X01);//¶¨Î»µ½Ãû³ÆÎª¡°01¡±µÄÎÄ¼þ¼Ð
 411   2                                         send(0x02);//²¥·ÅµÚ2¸öÒôÆµÎÄ¼þ
 412   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 413   2                                     break;
 414   2                  case 0X03: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 415   2                                         send(0X04);//ËµÃ÷Ö¸Áî³¤¶È
 416   2                                         send(0X42);//Ö¸¶¨ÎÄ¼þ¼Ð²¥·Å
 417   2                                         send(0X01);//¶¨Î»µ½Ãû³ÆÎª¡°01¡±µÄÎÄ¼þ¼Ð
 418   2                                         send(0x03);//²¥·ÅµÚ3¸öÒôÆµÎÄ¼þ
 419   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 420   2                                     break;
 421   2                      case 0X04: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 422   2                                         send(0X04);//ËµÃ÷Ö¸Áî³¤¶È
 423   2                                         send(0X42);//Ö¸¶¨ÎÄ¼þ¼Ð²¥·Å
 424   2                                         send(0X01);//¶¨Î»µ½Ãû³ÆÎª¡°01¡±µÄÎÄ¼þ¼Ð
 425   2                                         send(0x04);//²¥·ÅµÚ4¸öÒôÆµÎÄ¼þ
C51 COMPILER V9.05   MAIN                                                                  06/14/2016 21:21:33 PAGE 8   

 426   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 427   2                                     break;
 428   2                      case 0X05: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 429   2                                         send(0X04);//ËµÃ÷Ö¸Áî³¤¶È
 430   2                                         send(0X42);//Ö¸¶¨ÎÄ¼þ¼Ð²¥·Å
 431   2                                         send(0X01);//¶¨Î»µ½Ãû³ÆÎª¡°01¡±µÄÎÄ¼þ¼Ð
 432   2                                         send(0x05);//²¥·ÅµÚ5¸öÒôÆµÎÄ¼þ
 433   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 434   2                                     break;
 435   2                  case 0X06: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 436   2                                         send(0X04);//ËµÃ÷Ö¸Áî³¤¶È
 437   2                                         send(0X42);//Ö¸¶¨ÎÄ¼þ¼Ð²¥·Å
 438   2                                         send(0X01);//¶¨Î»µ½Ãû³ÆÎª¡°01¡±µÄÎÄ¼þ¼Ð
 439   2                                         send(0x06);//²¥·ÅµÚ6¸öÒôÆµÎÄ¼þ
 440   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 441   2                                     break;
 442   2                      case 0X07: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 443   2                                         send(0X04);//ËµÃ÷Ö¸Áî³¤¶È
 444   2                                         send(0X42);//Ö¸¶¨ÎÄ¼þ¼Ð²¥·Å
 445   2                                         send(0X01);//¶¨Î»µ½Ãû³ÆÎª¡°01¡±µÄÎÄ¼þ¼Ð
 446   2                                         send(0x07);//²¥·ÅµÚ7¸öÒôÆµÎÄ¼þ
 447   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 448   2                                     break;
 449   2                      case 0X08: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 450   2                                         send(0X04);//ËµÃ÷Ö¸Áî³¤¶È
 451   2                                         send(0X42);//Ö¸¶¨ÎÄ¼þ¼Ð²¥·Å
 452   2                                         send(0X01);//¶¨Î»µ½Ãû³ÆÎª¡°01¡±µÄÎÄ¼þ¼Ð
 453   2                                         send(0x08);//²¥·ÅµÚ8¸öÒôÆµÎÄ¼þ
 454   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 455   2                                     break;
 456   2                  case 0X09: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 457   2                                         send(0X04);//ËµÃ÷Ö¸Áî³¤¶È
 458   2                                         send(0X42);//Ö¸¶¨ÎÄ¼þ¼Ð²¥·Å
 459   2                                         send(0X01);//¶¨Î»µ½Ãû³ÆÎª¡°01¡±µÄÎÄ¼þ¼Ð
 460   2                                         send(0x09);//²¥·ÅµÚ9¸öÒôÆµÎÄ¼þ
 461   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 462   2                                     break;
 463   2                      case 0X0A: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 464   2                                         send(0X04);//ËµÃ÷Ö¸Áî³¤¶È
 465   2                                         send(0X42);//Ö¸¶¨ÎÄ¼þ¼Ð²¥·Å
 466   2                                         send(0X01);//¶¨Î»µ½Ãû³ÆÎª¡°01¡±µÄÎÄ¼þ¼Ð
 467   2                                         send(0x0A);//²¥·ÅµÚ10¸öÒôÆµÎÄ¼þ
 468   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 469   2                                     break;
 470   2                      case 0X0B: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 471   2                                         send(0X04);//ËµÃ÷Ö¸Áî³¤¶È
 472   2                                         send(0X42);//Ö¸¶¨ÎÄ¼þ¼Ð²¥·Å
 473   2                                         send(0X01);//¶¨Î»µ½Ãû³ÆÎª¡°01¡±µÄÎÄ¼þ¼Ð
 474   2                                         send(0x0B);//²¥·ÅµÚ11¸öÒôÆµÎÄ¼þ
 475   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 476   2                                     break;
 477   2                  case 0X0C: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 478   2                                         send(0X04);//ËµÃ÷Ö¸Áî³¤¶È
 479   2                                         send(0X42);//Ö¸¶¨ÎÄ¼þ¼Ð²¥·Å
 480   2                                         send(0X01);//¶¨Î»µ½Ãû³ÆÎª¡°01¡±µÄÎÄ¼þ¼Ð
 481   2                                         send(0x0C);//²¥·ÅµÚ12¸öÒôÆµÎÄ¼þ
 482   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 483   2                                     break;
 484   2                      case 0X0D: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 485   2                                         send(0X04);//ËµÃ÷Ö¸Áî³¤¶È
 486   2                                         send(0X42);//Ö¸¶¨ÎÄ¼þ¼Ð²¥·Å
 487   2                                         send(0X01);//¶¨Î»µ½Ãû³ÆÎª¡°01¡±µÄÎÄ¼þ¼Ð
C51 COMPILER V9.05   MAIN                                                                  06/14/2016 21:21:33 PAGE 9   

 488   2                                         send(0x0D);//²¥·ÅµÚ13¸öÒôÆµÎÄ¼þ
 489   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 490   2                                     break;
 491   2                      case 0X0E: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 492   2                                         send(0X04);//ËµÃ÷Ö¸Áî³¤¶È
 493   2                                         send(0X42);//Ö¸¶¨ÎÄ¼þ¼Ð²¥·Å
 494   2                                         send(0X01);//¶¨Î»µ½Ãû³ÆÎª¡°01¡±µÄÎÄ¼þ¼Ð
 495   2                                         send(0x0E);//²¥·ÅµÚ14¸öÒôÆµÎÄ¼þ
 496   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 497   2                                     break;
 498   2                  case 0X0F: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 499   2                                         send(0X04);//ËµÃ÷Ö¸Áî³¤¶È
 500   2                                         send(0X42);//Ö¸¶¨ÎÄ¼þ¼Ð²¥·Å
 501   2                                         send(0X01);//¶¨Î»µ½Ãû³ÆÎª¡°01¡±µÄÎÄ¼þ¼Ð
 502   2                                         send(0x0F);//²¥·ÅµÚ15¸öÒôÆµÎÄ¼þ
 503   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 504   2                                     break;
 505   2      
 506   2                      case 0X31: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 507   2                                         send(0X03);//ËµÃ÷Ö¸Áî³¤¶È
 508   2                                         send(0X31);//ÉèÖÃÒôÁ¿
 509   2                                         send(0X20);//20
 510   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 511   2                                     break;
 512   2                      case 0X32: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 513   2                                         send(0X03);//ËµÃ÷Ö¸Áî³¤¶È
 514   2                                         send(0X31);//ÉèÖÃÒôÁ¿
 515   2                                         send(0X14);//20
 516   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 517   2                                     break;
 518   2      
 519   2                      case 0X33: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 520   2                                         send(0X03);//ËµÃ÷Ö¸Áî³¤¶È
 521   2                                         send(0X33);//ÉèÖÃÑ­»·Ä£Ê½
 522   2                                         send(0X04);//µ¥Çú²¥·Å
 523   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 524   2                                     break;
 525   2                      
 526   2                      case 0X34: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 527   2                                         send(0X03);//ËµÃ÷Ö¸Áî³¤¶È
 528   2                                         send(0X33);//ÉèÖÃÑ­»·Ä£Ê½
 529   2                                         send(0X02);//µ¥ÇúÑ­»·£¡
 530   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 531   2                                     break;
 532   2                      case 0X35: send(0X7E);//Ö¸Áî¿ªÊ¼Î»
 533   2                                         send(0X03);//ËµÃ÷Ö¸Áî³¤¶È
 534   2                                         send(0X31);//ÉèÖÃÒôÁ¿
 535   2                                         send(0X07);//20
 536   2                                         send(0XEF);//Ö¸Áî½áÊøÎ» 
 537   2                                     break;
 538   2                }
 539   1        
 540   1      }
 541          /*********************************************************/
 542          /*                                                       */
 543          /* MP3³õÊ¼»¯                                             */
 544          /*                                                       */
 545          /*********************************************************/
 546          void mp3_init()
 547          {
 548   1        mp3(0x33);                 //ÉèÖÃÑ­»·Ä£Ê½ÎªÎÄ¼þ¼ÐÑ­»·
 549   1        mp3(0x31);                 //ÉèÖÃÒôÁ¿Îª20
C51 COMPILER V9.05   MAIN                                                                  06/14/2016 21:21:33 PAGE 10  

 550   1        //mp3(0x00);                 //¿ª»ú²¥·Å
 551   1      
 552   1        /*²»¹Ø±Õ´®ÐÐÖÐ¶ÏµÄ»°Ò»ÉÏµç¾Í»á·¢ËÍSTOP£¬ÕâÑù»áÓ°ÏìÇúÃûºÍ²¥·Å¸èÇúµÄ¶ÔÓ¦¹ØÏµ*/
 553   1        ES=0;                                    //´®ÐÐÖÐ¶Ï½ûÖ¹
 554   1        delay_ms(100);                           //µÈ´ýMP3×¼±¸ºÃ
 555   1        ES=1;
 556   1      }
 557          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    909    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     10    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
